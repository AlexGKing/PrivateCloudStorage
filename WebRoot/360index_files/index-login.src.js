function hex_md5(e){return binl2hex(core_md5(str2binl(e),e.length*chrsz))}function b64_md5(e){return binl2b64(core_md5(str2binl(e),e.length*chrsz))}function str_md5(e){return binl2str(core_md5(str2binl(e),e.length*chrsz))}function hex_hmac_md5(e,t){return binl2hex(core_hmac_md5(e,t))}function b64_hmac_md5(e,t){return binl2b64(core_hmac_md5(e,t))}function str_hmac_md5(e,t){return binl2str(core_hmac_md5(e,t))}function md5_vm_test(){return hex_md5("abc")=="900150983cd24fb0d6963f7d28e17f72"}function core_md5(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;var n=1732584193,r=-271733879,i=-1732584194,s=271733878;for(var o=0;o<e.length;o+=16){var u=n,a=r,f=i,l=s;n=md5_ff(n,r,i,s,e[o+0],7,-680876936),s=md5_ff(s,n,r,i,e[o+1],12,-389564586),i=md5_ff(i,s,n,r,e[o+2],17,606105819),r=md5_ff(r,i,s,n,e[o+3],22,-1044525330),n=md5_ff(n,r,i,s,e[o+4],7,-176418897),s=md5_ff(s,n,r,i,e[o+5],12,1200080426),i=md5_ff(i,s,n,r,e[o+6],17,-1473231341),r=md5_ff(r,i,s,n,e[o+7],22,-45705983),n=md5_ff(n,r,i,s,e[o+8],7,1770035416),s=md5_ff(s,n,r,i,e[o+9],12,-1958414417),i=md5_ff(i,s,n,r,e[o+10],17,-42063),r=md5_ff(r,i,s,n,e[o+11],22,-1990404162),n=md5_ff(n,r,i,s,e[o+12],7,1804603682),s=md5_ff(s,n,r,i,e[o+13],12,-40341101),i=md5_ff(i,s,n,r,e[o+14],17,-1502002290),r=md5_ff(r,i,s,n,e[o+15],22,1236535329),n=md5_gg(n,r,i,s,e[o+1],5,-165796510),s=md5_gg(s,n,r,i,e[o+6],9,-1069501632),i=md5_gg(i,s,n,r,e[o+11],14,643717713),r=md5_gg(r,i,s,n,e[o+0],20,-373897302),n=md5_gg(n,r,i,s,e[o+5],5,-701558691),s=md5_gg(s,n,r,i,e[o+10],9,38016083),i=md5_gg(i,s,n,r,e[o+15],14,-660478335),r=md5_gg(r,i,s,n,e[o+4],20,-405537848),n=md5_gg(n,r,i,s,e[o+9],5,568446438),s=md5_gg(s,n,r,i,e[o+14],9,-1019803690),i=md5_gg(i,s,n,r,e[o+3],14,-187363961),r=md5_gg(r,i,s,n,e[o+8],20,1163531501),n=md5_gg(n,r,i,s,e[o+13],5,-1444681467),s=md5_gg(s,n,r,i,e[o+2],9,-51403784),i=md5_gg(i,s,n,r,e[o+7],14,1735328473),r=md5_gg(r,i,s,n,e[o+12],20,-1926607734),n=md5_hh(n,r,i,s,e[o+5],4,-378558),s=md5_hh(s,n,r,i,e[o+8],11,-2022574463),i=md5_hh(i,s,n,r,e[o+11],16,1839030562),r=md5_hh(r,i,s,n,e[o+14],23,-35309556),n=md5_hh(n,r,i,s,e[o+1],4,-1530992060),s=md5_hh(s,n,r,i,e[o+4],11,1272893353),i=md5_hh(i,s,n,r,e[o+7],16,-155497632),r=md5_hh(r,i,s,n,e[o+10],23,-1094730640),n=md5_hh(n,r,i,s,e[o+13],4,681279174),s=md5_hh(s,n,r,i,e[o+0],11,-358537222),i=md5_hh(i,s,n,r,e[o+3],16,-722521979),r=md5_hh(r,i,s,n,e[o+6],23,76029189),n=md5_hh(n,r,i,s,e[o+9],4,-640364487),s=md5_hh(s,n,r,i,e[o+12],11,-421815835),i=md5_hh(i,s,n,r,e[o+15],16,530742520),r=md5_hh(r,i,s,n,e[o+2],23,-995338651),n=md5_ii(n,r,i,s,e[o+0],6,-198630844),s=md5_ii(s,n,r,i,e[o+7],10,1126891415),i=md5_ii(i,s,n,r,e[o+14],15,-1416354905),r=md5_ii(r,i,s,n,e[o+5],21,-57434055),n=md5_ii(n,r,i,s,e[o+12],6,1700485571),s=md5_ii(s,n,r,i,e[o+3],10,-1894986606),i=md5_ii(i,s,n,r,e[o+10],15,-1051523),r=md5_ii(r,i,s,n,e[o+1],21,-2054922799),n=md5_ii(n,r,i,s,e[o+8],6,1873313359),s=md5_ii(s,n,r,i,e[o+15],10,-30611744),i=md5_ii(i,s,n,r,e[o+6],15,-1560198380),r=md5_ii(r,i,s,n,e[o+13],21,1309151649),n=md5_ii(n,r,i,s,e[o+4],6,-145523070),s=md5_ii(s,n,r,i,e[o+11],10,-1120210379),i=md5_ii(i,s,n,r,e[o+2],15,718787259),r=md5_ii(r,i,s,n,e[o+9],21,-343485551),n=safe_add(n,u),r=safe_add(r,a),i=safe_add(i,f),s=safe_add(s,l)}return Array(n,r,i,s)}function md5_cmn(e,t,n,r,i,s){return safe_add(bit_rol(safe_add(safe_add(t,e),safe_add(r,s)),i),n)}function md5_ff(e,t,n,r,i,s,o){return md5_cmn(t&n|~t&r,e,t,i,s,o)}function md5_gg(e,t,n,r,i,s,o){return md5_cmn(t&r|n&~r,e,t,i,s,o)}function md5_hh(e,t,n,r,i,s,o){return md5_cmn(t^n^r,e,t,i,s,o)}function md5_ii(e,t,n,r,i,s,o){return md5_cmn(n^(t|~r),e,t,i,s,o)}function core_hmac_md5(e,t){var n=str2binl(e);n.length>16&&(n=core_md5(n,e.length*chrsz));var r=Array(16),i=Array(16);for(var s=0;s<16;s++)r[s]=n[s]^909522486,i[s]=n[s]^1549556828;var o=core_md5(r.concat(str2binl(t)),512+t.length*chrsz);return core_md5(i.concat(o),640)}function safe_add(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function bit_rol(e,t){return e<<t|e>>>32-t}function str2binl(e){var t=Array(),n=(1<<chrsz)-1;for(var r=0;r<e.length*chrsz;r+=chrsz)t[r>>5]|=(e.charCodeAt(r/chrsz)&n)<<r%32;return t}function binl2str(e){var t="",n=(1<<chrsz)-1;for(var r=0;r<e.length*32;r+=chrsz)t+=String.fromCharCode(e[r>>5]>>>r%32&n);return t}function binl2hex(e){var t=hexcase?"0123456789ABCDEF":"0123456789abcdef",n="";for(var r=0;r<e.length*4;r++)n+=t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15);return n}function binl2b64(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="";for(var r=0;r<e.length*4;r+=3){var i=(e[r>>2]>>8*(r%4)&255)<<16|(e[r+1>>2]>>8*((r+1)%4)&255)<<8|e[r+2>>2]>>8*((r+2)%4)&255;for(var s=0;s<4;s++)r*8+s*6>e.length*32?n+=b64pad:n+=t.charAt(i>>6*(3-s)&63)}return n}var QHPass=window.QHPass||{};(function(e,t,n){e.tpl=e.tpl||{};if(!t.QHDomain){var r=n.getElementsByTagName("script"),i=/^.*\/(\w+)\.js.*$/.exec(r[r.length-1].src);i=i?i[1]:"v3203",location.protocol.indexOf("https")>-1?t.QHDomain={popJsPath:"https://s0.qhimg.com/i360/;js;pass_api_/panel,login,reg,name,nickname,mail,loginemail,md5,log,mobile,delmobile/"+i+".js",i360:"https://i.360.cn",login_https:"https://login.360.cn",captcha:"https://captcha.360.cn",login_http:"https://login.360.cn"}:t.QHDomain={popJsPath:"http://s0.qhimg.com/i360/;js;pass_api_/panel,login,reg,name,nickname,mail,loginemail,md5,log,mobile,delmobile/"+i+".js",i360:"http://i.360.cn",login_https:"https://login.360.cn",captcha:"http://captcha.360.cn",login_http:"http://login.360.cn"}}var s=t.QHDomain;s.captchaUrl=location.host.indexOf("360.cn")==-1?s.i360+"/reg/doGetCap?app=":s.captcha+"/image.php?app=";var o=e.$=t.jQuery||t.qui||t.QW&&t.QW.NodeW;o.prototype.append||(o.prototype.append=o.prototype.appendChild),o.prototype.un||(o.prototype.un=o.prototype.unbind);var u="1360.com|360.cn|qihoo.com|qikoo.com|woxihuan.com|yunpan.cn|360pay.cn|360kan.com|so.com|leidian.com",a=u.split("|"),f=[],l={},c=0,h,p,d=a.length;for(;c<d;c++)h=a[c],p=h.split(".")[0],f.push(p),l[p]=h;e._hostConf=u,e._hostShort=f.join("|"),e._hostShort2long=l;var v=location.host.match(new RegExp(e._hostConf.replace(/\./,"\\."),"ig"));e._hostCurr=v&&v[0],e.uinfo={},e.resConfig={reloadAfterLogout:!0,jumpUrl:"",charset:"gbk",useType:"pop",loginStatus:!1,userInfoParas:"",postCharset:"gbk",isAutoLogin:!1,loginTitle:"",regTitle:"",setNameTitle:"",setMailTitle:"",afterRenderPanel:null,needDefaultSkin:!0,afterClosePanel:null,loginAfterSetName:!0,regType:"email_phone",isByqt:!0,thirdFun:function(e){},callback:"",regPopOnce:!0,logoutCallback:null,regCallback:function(){},loginCallback:function(){},getInfoAfterReg:!0,src:"pcw_i360",requestScema:location.protocol.replace(":","")||"http",initModule:function(){},regOpts:{regway:"email",needEmailActive:!0,needName:!0,nickname:!1},regPhoneOpts:{regway:"phone",needName:!0,nickname:!1},loginOpts:{thirdLogin:["sina|renren|msn|fetion|Telecom","","",""],captFlag:!0,validatelm:"0",custStyleUrl:""},ssoOpts:{},bindOpts:{width:400,title:"\u5b8c\u5584\u5e10\u53f7\u8d44\u6599"},namedOpts:{},mailOpts:{},nicknameOpts:{},bindMobileOpts:{},delBindMobileOpts:{}};var m=e.resConfig.requestScema;e.cookieEnabled=function(){var e=!0,t=n.cookie.length,r=Math.random(),i=["test",r,"test=test",";expires=Thu, 01 Jan 9970 00:00:00 GMT",";path=/"].join("");return n.cookie=i,n.cookie.length==t&&(e=!1),i=["test",r,"test=test",";expires=Thu, 01 Jan 1970 00:00:00 GMT",";path=/"].join(""),n.cookie=i,e},e.thirdLoginSuccess=function(){var n="",r=0,i=e.resConfig.cookie_domains,o=[];e.forEach(i[0].split("|"),function(t){var n=e._hostShort2long[t];n&&o.push(n)}),t.loginThirdCallback=function(){e.getUserInfo(function(t){if(t.qid)try{e.loginUtils.closeOpenHander(),e.setloginStatus(t),e.resConfig.thirdFun&&e.resConfig.thirdFun(t)}catch(n){}})};var u=s.login_http+"/?o=sso&m=getRd&requestScema="+m+"&func=rdCallBack&s=";e.loadJs(u+Math.random()),t.rdCallBack=function(t){var r=s.login_http+"/?o=sso&m=setcookie&requestScema="+m+"&func=setCookieCallback&s=";n=t.rd,e.loadJs(r+n+"&t="+Math.random())},t.setCookieCallback=function(){var t=m+"://login."+o[r];if(o[r]){var i=t+"/?o=sso&m=setcookie&requestScema="+m+"&func=setCookieCallback&s="+n;e.loadJs(i+"&t="+Math.random()),r++}else loginThirdCallback()}},e.getDocRect=function(e){e=e||n;var t=e.defaultView||e.parentWindow,r=navigator.userAgent.match(/opera/i),i=e.compatMode,s=e.documentElement,o=t.innerHeight||0,u=t.innerWidth||0,a=t.pageXOffset||0,f=t.pageYOffset||0,l=s.scrollWidth,c=s.scrollHeight;return i!="CSS1Compat"&&(s=e.body,l=s.scrollWidth,c=s.scrollHeight),i&&!r&&(u=s.clientWidth,o=s.clientHeight),l=Math.max(l,u),c=Math.max(c,o),a=Math.max(a,s.scrollLeft,e.body.scrollLeft),f=Math.max(f,s.scrollTop,e.body.scrollTop),{width:u,height:o,scrollWidth:l,scrollHeight:c,scrollX:a,scrollY:f}},e.logoutOtherDomain=function(t){function n(){try{e.setloginStatus({})}catch(t){}e.resConfig.passLevelCookieName&&e.Cookie.del(e.resConfig.passLevelCookieName),e.resConfig.logoutCallback&&e.resConfig.logoutCallback()}t.errno==0&&(e._hostCurr&&e._hostCurr!=="360.cn"?e.loadJsonp(m+"://login."+e._hostCurr+"/?o=sso&m=logout&requestScema="+m+"&func=%callback%",n):n())},e.logout=function(t){t&&(e.resConfig.logoutCallback=t);if(e.Cookie.get("Q"))if(e.resConfig.reloadAfterLogout){var n=e.resConfig.jumpUrl||location.href;location.href=s.login_http+"/?op=logout&requestScema="+m+"&destUrl="+encodeURIComponent(n)}else e.loadJsonp(s.login_http+"/?o=sso&m=logout&requestScema="+m+"&func=%callback%",e.logoutOtherDomain);else t&&t()},e._btn_logout_handler=function(t){try{e.logout(),e.preventDefault(t)}catch(n){}},e.setloginStatus=function(t){e.closePop&&e.closePop();try{if(t.qid){e.uinfo=t;var n=t.userName&&t.userName.indexOf("360U")==-1?t.userName:t.login_email||t.loginEmail||t.userName;o(".loginWrap").show(),o(".nloginWrap").hide(),o(".popUsername").html(n),o(".btn-logout-pop").click(e._btn_logout_handler)}else e.uinfo={},o(".loginWrap").hide(),o(".popUsername").html(""),o(".nloginWrap").show(),o(".btn-logout-pop").un("click",e._btn_logout_handler)}catch(r){}},e.mix=function(e,t,n){for(var r in t)if(n||!(r in e))e[r]=t[r];return e},e.loadJs=function(e,t,r){r=r||{};var i=n.getElementsByTagName("head")[0]||n.documentElement,s=n.createElement("script"),o=!1;s.src=e,r.charset&&(s.charset=r.charset),s.onerror=s.onload=s.onreadystatechange=function(){!o&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")&&(o=!0,t&&t(),s.onerror=s.onload=s.onreadystatechange=null,i.removeChild(s))},i.insertBefore(s,i.firstChild)},e.loadJsonp=function(){var n=new Date*1;return function(r,i,s){s=s||{};var o="QiUserJsonP"+n++,u=s.callbackReplacer||/%callback%/ig;t[o]=function(e){i&&i(e),t[o]=null},u.test(r)?r=r.replace(u,o):r+=(/\?/.test(r)?"&":"?")+"callback="+o,e.loadJs(r,null,s)}}(),e.trim=function(e){return e&&e.replace(/^\s+|\s+$/g,"")},e.byteLen=function(e){return e.replace(/[^\x00-\xff]/g,"--").length},e.forEach=function(e,t,n){for(var r=0,i=e.length;r<i;r++)r in e&&t.call(n,e[r],r,e)},e.queryUrl=function(e,t){e=e.replace(/^[^?=]*\?/ig,"").split("#")[0];var n={};return e.replace(/(^|&)([^&=]+)=([^&]*)/g,function(e,t,r,i){try{r=decodeURIComponent(r),i=decodeURIComponent(i)}catch(s){}r in n?n[r]instanceof Array?n[r].push(i):n[r]=[n[r],i]:n[r]=/\[\]$/.test(r)?[i]:i}),t?n[t]:n},e.Cookie=e.Cookie||{},e.Cookie.get=function(t){if(e.Cookie._isValidKey(t)){var r=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),i=r.exec(n.cookie);if(i)try{return decodeURIComponent(i[2])||null}catch(s){return i[2]||null}}return null},e.Cookie._isValidKey=function(e){return(new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$')).test(e)},e.Cookie.set=function(t,r,i){if(!e.Cookie._isValidKey(t))return;i=i||{};var s=i.expires;"number"==typeof i.expires&&(s=new Date,s.setTime(s.getTime()+i.expires)),n.cookie=t+"="+encodeURIComponent(r)+"; path="+(i.path?i.path:"/")+(s?"; expires="+s.toGMTString():"")+(i.domain?"; domain="+i.domain:"")+(i.secure?"; secure":"")},e.Cookie.del=function(t){e.Cookie.set(t,"")},e.getUserStatus=function(){return!!e.uinfo.qid},e.clearUinfo=function(){e.uinfo={}},e.getUserInfo=function(t,n,r){r=r||e.resConfig.userInfoParas;if(e.Cookie.get("Q")||!e.resConfig.isByqt)if(e.getUserStatus())t&&t(e.uinfo);else{var i=r||e._hostCurr&&e._hostCurr&&m+"://login."+e._hostCurr+"/?o=sso&m=info&requestScema="+m+"&func=%callback%&show_name_flag=1"||s.login_http+"/?o=sso&m=info&requestScema="+m+"&func=%callback%&show_name_flag=1";i&&e.loadJsonp(i,function(e){e.qid?t&&t(e):n&&n()})}else n&&n(),o(".loginWrap").hide(),o(".nloginWrap").show()},e.execCallback=function(n,r){e.resConfig.loginAfterSetName=!1,typeof n=="string"?t.location.href=n:typeof n=="boolean"?t.location.reload(n):n&&n(r)},e.login=function(t,n){e.getUserInfo(function(n){e.execCallback(t,n)},function(){n=n||{},e.mix(n,e.resConfig.loginOpts||{});if(typeof n.loginType=="string")switch(n.loginType){case"quick":n.loginType=e.resConfig.loginOpts.loginType=["quick","normal"];break;case"mobile":n.loginType=e.resConfig.loginOpts.loginType=["mobile","normal"];break;default:n.loginType=e.resConfig.loginOpts.loginType=["normal"]}e.showLogin(t,n)})},e.reg=function(t,n){e.getUserInfo(function(n){e.execCallback(t,n)},function(){e.showReg(t,n)})},e.setNickname=function(t,n){var r=t;e.getUserInfo(function(t){e.showSetNickname(r,n)},function(){e.login(function(t){e.showSetNickname(r,n)},n)})},e.loginMail=function(t,n){var r=t;e.getUserInfo(function(t){e.showLoginEmail(r,{crumb:t.crumb})},function(){e.showLogin(function(t){e.showLoginEmail(r,{crumb:t.crumb})},n)})},e.bindMobile=function(t,n){var r=t,i=n;e.getUserInfo(function(t){e.showBindMobile(r,i)},function(){e.showLogin(function(t){e.showBindMobile(r,i)},n)})},e.delMobile=function(t,n){e.showDelBindMobile(t,n)},e.autoLogin=function(t){e.loadJsonp(s.login_https+"/?o=sso&m=info&requestScema="+m+"&func=%callback%&need_ck=1",function(n){n.auth&&n.auth.length>0&&e.autoAuth(t,n)})},e.autoAuth=function(n,r){dataCache=r||{};var i=(new Date).getTime(),o=r.auth,u=u||{};if(!e._hostCurr)return;var a=s.login_http+"/?o=sso&m=getRd&requestScema="+m+"&func=rdCallBack&s=";e.loadJs(a+Math.random()),t.rdCallBack=function(t){var n=t.rd,r=m+"://login."+e._hostCurr,i=r+"/?o=sso&m=setcookie&requestScema="+m+"&func=setCookieCallback&s="+n;e.loadJs(i+"&t="+Math.random())},t.setCookieCallback=function(t){if(t.errno==0)if(e.resConfig.loginAfterSetName&&dataCache.type!="bind"&&(!dataCache.userName||dataCache.userName.indexOf("360U")>-1))e.showSetName(n,{notRequest:!0,crumb:dataCache.crumb});else if(e.resConfig.loginAfterSetName&&dataCache.type=="bind")e.showBind(n,{regway:"bind",crumb:dataCache.crumb});else{e.execCallback(n,dataCache);try{e.setloginStatus(dataCache)}catch(r){}}}},e.sso=function(t,n){e.getUserInfo(function(n){e.execCallback(t,n)},function(){e.showSso(t,n)})},e.mobile=function(t,n){e.getUserInfo(function(n){e.execCallback(t,n)},function(){e.showMobileLogin(t,n)})};var g=["showSso","showLogin","showReg","showSetName","showSetNickname","showBind","showBindMobile","showDelBindMobile","showSecMail","showLoginEmail"],y,b=0,w=g.length,E={};for(;b<w;b++)y=g[b],e[y]=E[y]=function(t){return function(n,r){e.loadJs(s.popJsPath,function(){if(E[t]==e[t])throw new Error("QUC JSAPI ["+s.popJsPath+"] loading exception. Run the [QHPass."+t+"] methods fail.");e[t](n,r),delete E[t]},{charset:e.resConfig.charset})}}(y);e.namedUser=function(t,n){e.resConfig.loginAfterSetName=!0,e.getUserInfo(function(n){n.type!="bind"&&(!n.userName||n.userName.indexOf("360U")>-1)?e.showSetName(t,{notRequest:!0,crumb:n.crumb}):n.type=="bind"?e.showBind(t,{regway:"bind",crumb:n.crumb}):e.execCallback(t,n)},function(){e.showLogin(t,n)})},e.secMail=function(t,n){var n=n||{};e.getUserInfo(function(r){e.mix(n,{crumb:r.crumb}),e.showSecMail(t,n)},function(){e.showLogin(function(r){e.mix(n,{crumb:r.crumb}),e.showSecMail(t,n)},n)})},e.preventDefault=function(e){e=e||t.event,e&&e.preventDefault?e.preventDefault():e.returnValue=!1},e.Adapter={globalCallback:null,regOpts:{},loginOpts:{},ssoOpts:{},namedOpts:{}},e.log=function(){o(n.body).delegate("#mod_quc_pop a, #mod_quc_pop .quc-psp-gstat","mousedown",function(n){if(!t.QHPASS_MONITOR)return;var r=n.target;try{var i={cId:QHPASS_MONITOR.util.getContainerId(r),c:QHPASS_MONITOR.util.getText(r),p:"360_psp_"+e.resConfig.useType};QHPASS_MONITOR.log(i,"click")}catch(s){}})},e._btn_login_handler=function(t){e.preventDefault(t),e.login(e.resConfig.callback||e.resConfig.loginCallback)},e._btn_reg_handler=function(t){e.preventDefault(t),e.reg(e.resConfig.callback||e.resConfig.regCallback)},e._checkLoginStatus=function(){e.getUserInfo(function(t){e.setloginStatus(t),e.resConfig.initModule&&e.resConfig.initModule(t)})},e._autoLogin=function(t){if(!t&&location.host.indexOf("360.cn")>-1)return;e.getUserInfo(e.setloginStatus,function(){e.autoLogin(e.resConfig.callback)})},(t.QW&&Dom.ready||o)(function(){try{o(".btn-login-pop").click(e._btn_login_handler),o(".btn-reg-pop").click(e._btn_reg_handler),e.resConfig.isAutoLogin?e._autoLogin():e.resConfig.loginStatus&&e._checkLoginStatus(),e.log()}catch(t){}})})(QHPass,window,document);var QHPass=window.QHPass||{};QHPass.Browser=function(){var e=window.navigator,t=e.userAgent.toLowerCase(),n=/(msie|webkit|gecko|presto|opera|safari|firefox|chrome|maxthon|android|ipad|iphone|webos|hpwos)[ \/os]*([\d_.]+)/ig,r={platform:e.platform};t.replace(n,function(e,t,n){var i=t.toLowerCase();r[i]||(r[i]=n)}),r.opera&&t.replace(/opera.*version\/([\d.]+)/,function(e,t){r.opera=t});if(r.msie){r.ie=r.msie;var i=parseInt(r.msie,10);r["ie"+i]=!0}return r}(),function(e){function t(){var e=document.createElement("div"),t=document.createElement("div"),n=!0;return e.style.position="absolute",e.style.top="200px",t.style.position="fixed",t.style.top="100px",e.appendChild(t),document.body.appendChild(e),t.getBoundingClientRect&&t.getBoundingClientRect().top==e.getBoundingClientRect().top&&(n=!1),n}var n=e.$,r=QHDomain.captchaUrl,i="i360",s,o=0;e.addPop=function(t,r,i){function u(){var t='<div id="pop_mask_bg" unselectable="on"  class="mod-qiuser-pop-bg"></div>';return e.Browser.ie6&&(t='<div id="pop_mask_bg" unselectable="on"  class="mod-qiuser-pop-bg"><div class="pop-bg-inner" unselectable="on"></div><iframe src="about:blank"  border="0" frameborder="0"></iframe></div>'),n("body").append(t),n("#pop_mask_bg")[0]}function a(){var e=s.offsetParent,t=document.documentElement,n=s.style;try{if(parseInt(n.top)!=e.scrollTop||parseInt(n.left)!=e.scrollLeft)n.top=e.scrollTop,n.left=e.scrollLeft;t.clientHeight!=s.offsetHeight&&(n.height=t.clientHeight),t.clientWidth!=s.offsetWidth&&(n.width=t.clientWidth)}catch(r){}}var f='<div id="mod_quc_pop" style="top:0;left:0"></div>',l='<div class="mod-quc-top quc-clearfix"><div id="qucPanelTitle" class="top-title">\u6b22\u8fce\u767b\u5f55360</div><a href="#" class="pop-dia-close" title="\u5173\u95ed"></a></div>',c='<div class="quc-clearfix " ><div class="reg-nav"><ul  id="regWays"></ul><div class="has-account">\u5df2\u6709\u5e10\u53f7\uff0c<a href="###" class="fac f14 clk-quc-login">\u7acb\u5373\u767b\u5f55</a></div></div><div class="reg-quc-content" id="modQiUserPop"></div>',h='<div id="modQiUserPop"></div>';s=u(),n("body").append(f),n("#mod_quc_pop").append(l).append(i=="reg"?c:h).css({width:r+"px"}),e.Browser.ie6&&(a(s),clearInterval(o),o=setInterval(a,1e3));try{QHPASS_MONITOR.log({cId:"\u5f39\u51fa\u5c42\u7684\u5c55\u73b0\u91cf",c:e.resConfig.src+"_"+i+"\u7c7b\u578b\u5c42\u7684\u5c55\u73b0\u91cf",p:"360_psp_pop"},"click"),n(".pop-dia-close")[0].setAttribute("text",e.resConfig.src+"_"+i+"\u7c7b\u578b\u5c42\u7684\u5173\u95ed\u91cf")}catch(p){}e.resConfig.afterRenderPanel&&e.resConfig.afterRenderPanel()},e.resizeAndshow=function(r,i){var s=t(),o=n("#mod_quc_pop");r=document.getElementById("mod_quc_pop").offsetHeight,i=document.getElementById("mod_quc_pop").offsetWidth;if(!s){n(window).on("resize",function(){u()}).on("scroll",function(){u()});var u=function(){var t=e.getDocRect();o[0]&&(o.css("left",t.scrollX+(t.width-i)/2+"px").css("top",t.scrollY+(t.height-o[0].offsetHeight)/2+"px"),n("#pop_mask_bg").css("width",t.scrollWidth+"px").css("height",t.scrollHeight+"px")),o.show()};o.css("position")=="absolute"?u():setTimeout(u,200)}else o.css({position:"fixed",top:"50%",left:"50%",marginLeft:-i/2+"px",marginTop:-r/2+"px"})},e.closePop=function(){clearInterval(o),e.removeNode(n("#pop_mask_bg")[0]),e.removeNode(n("#mod_quc_pop")[0]),e.resConfig.regPopOnce=!0,e.resConfig.afterClosePanel&&e.resConfig.afterClosePanel()}}(QHPass),function(e){var t=e.$,n=[],r=null,i=e.resConfig.requestScema;e._timeoutHandler=null,e.tmpl=function(e,t){e=String(e);var n=Array.prototype.slice.call(arguments,1),r=Object.prototype.toString;return n.length?(n=n.length==1?t!==null&&/\[object Array\]|\[object Object\]/.test(r.call(t))?t:n:n,e.replace(/#\{(.+?)\}/g,function(e,t){var i=n[t];return"[object Function]"==r.call(i)&&(i=i(t)),"undefined"==typeof i?"":i})):e},e.showLogin=function(r,i){i=i||{},e.Adapter.globalCallback=r,e.resConfig.src=i.src?i.src:e.resConfig.src,e.mix(i,e.resConfig.loginOpts||{});var s=e.Adapter.ssoOpts.type=i.type||"pop",o=e.Adapter.ssoOpts.wrap=i.wrap||"",u=i.title||e.resConfig&&e.resConfig.loginTitle||"\u6b22\u8fce\u767b\u5f55360",a=i.loginType?i.loginType:["normal"],f=i.clickFlag||"",l={pre:'<div class="hd"><ul class="js-tab">',pre_mul:'<div class="hd-mul"><ul class="js-tab">',normal:'<li id="normal-login" data-target="mod-normal-id-login" ><a href="#">\u666e\u901a\u767b\u5f55</a></li>',quick:'<li id="quick-login" data-target="mod-quick-login"><a href="#">\u5feb\u901f\u767b\u5f55</a></li>',single:'<li id="other-login" data-target="mod-other-id-login"><span id="qucPanelTitle">\u6b22\u8fce\u60a8\u767b\u5f55360</span></li>',mobile:'<li id="mobile-login" data-target="mod-mobile-login"><a href="#">\u624b\u673a\u77ed\u4fe1\u767b\u5f55</a></li>',tail:'</ul><a href="#" class="pop-dia-close" title="\u5173\u95ed"></a></div>'},c="";e.resConfig.cookie_domains=e.resConfig.cookie_domains||i.cookie_domains||Array(e._hostShort);if(a.toString().indexOf("quick")>-1){var h=[],p=1;for(var d=0;d<a.length;d++)a[d]!="quick"&&(h[p]=a[d],p++);h[0]="quick",a=h,n=h}if(s=="pop"){var v=a.length;if(v==1)c+=l.pre,c+=l.single;else if(v==2){c+=l.pre;for(var d=0;d<a.length;d++)typeof a[d]=="string"&&l[a[d]]&&(c+=l[a[d]])}else if(v>2){c+=l.pre_mul;for(var d=0;d<a.length;d++)typeof a[d]=="string"&&l[a[d]]&&(c+=l[a[d]])}c+=l.tail;if(f)switch(f){case"normal":e.showNormalLogin(e.Adapter.globalCallback,i);break;case"quick":e.showSso(e.Adapter.globalCallback,i);break;case"mobile":e.showMobileLogin(e.Adapter.globalCallback,i)}else switch(a[0]){case"normal":e.showNormalLogin(e.Adapter.globalCallback,i);break;case"quick":e.showSso(e.Adapter.globalCallback,i);break;case"mobile":e.showMobileLogin(e.Adapter.globalCallback,i)}}else{if(!o)return;switch(a[0]){case"normal":e.showNormalLogin(e.Adapter.globalCallback,i);break;case"quick":e.showSso(e.Adapter.globalCallback,i);break;case"mobile":e.showMobileLogin(e.Adapter.globalCallback,i)}}t(".mod-quc-top").html(c).css("height","56px"),u&&t("#qucPanelTitle").html(u);var m=e.cookieEnabled();m||t("#infobarNoCookie").show();if(f)switch(f){case"normal":t("#normal-login").addClass("cur");break;case"quick":t("#quick-login").addClass("cur");break;case"mobile":t("#mobile-login").addClass("cur")}else t("#"+a[0]+"-login").addClass("cur");t("#quick-login").on("click",function(t){e.showLogin(e.Adapter.globalCallback,{clickFlag:"quick"}),e.preventDefault(t),e.loginWays="quick"}),t("#mobile-login").on("click",function(t){e.showLogin(e.Adapter.globalCallback,{clickFlag:"mobile"}),e.preventDefault(t),e.loginWays="mobile"}),t("#normal-login").on("click",function(t){e.showLogin(e.Adapter.globalCallback,{clickFlag:"normal"}),e.preventDefault(t),e.loginWays="normal"});try{t(".pop-dia-close").on("click",function(t){e.resConfig.loginAfterSetName=!1,e.closePop&&e.closePop(),e.preventDefault(t)})}catch(g){}},e.showNormalLogin=function(n,r){r=r||{},e.cssLoadOnce&&e.cssLoadOnce(),e.Adapter.globalCallback=n,e.mix(r,e.resConfig.loginOpts||{}),e.Adapter.ssoOpts=e.resConfig.ssoOpts;var i=r.title||e.resConfig&&e.resConfig.loginTitle||"\u6b22\u8fce\u767b\u5f55360",s=r.width||460,o=e.Adapter.ssoOpts.wrap=r.wrap||"",u=r.css||e.resConfig&&e.resConfig.css||"",a=r.thirdLogin||[],f=e.Adapter.ssoOpts.type=r.type||"pop",l=r.cookie_domains||e.resConfig.cookie_domains||{},c=r.captFlag||!1,h=r.checkPharse||!1,p=r.customHtml||!1,d=r.afterRender||e.resConfig.loginOpts&&e.resConfig.loginOpts.afterRender||"",v=r.height||335,m=r.validatelm||e.resConfig.loginOpts&&e.resConfig.loginOpts.validatelm||"0",g=r.loginType||["normal"];r.cookie_domains=l,e.loginWays=g,u&&e.loadCss&&e.loadCss(u);var y=[],b=[],w="",E="",S="",x=['<dd class="other"><span class="title">\u5176\u4ed6\u5e10\u53f7\u767b\u5f55\uff1a</span><span class="login-ways">'],T=["formStart","userName","password","find","submit","formEnd"];c||h?(T.splice(4,0,"phrase"),T.splice(6,0,"thirdLogin")):T.splice(5,0,"thirdLogin"),a.length>0&&(b=a[0].split("|"),w=a[1]||"",E=a[2]||"",S=a[3]||"",e.forEach(b,function(t){x.push(e.tmpl(e.tpl.pspFriend[t],{from:w,type:E,destUrl:S}))}),x.push("</span></dd>"),e.tpl.loginTpl.thirdLogin=x.join("")),e.forEach(T,function(t){y.push(e.tpl.loginTpl[t])});if(!p)if(f=="pop")e.closePop&&e.closePop(),e.addPop(v,s,"login"),t("#modQiUserPop").html(y.join(""));else{if(!o)return;t("#"+o).html(y.join(""))}h&&(t("#phraseLoginwarp").show(),e.loginUtils.doGetCaptcha()),i&&t("#qucPanelTitle").html(i);try{t(document.body).undelegate(".reg-new-account","click",e._login2reg),t(document.body).delegate(".reg-new-account","click",e._login2reg)}catch(N){}d&&d(),f=="pop"&&e.resizeAndshow(v,s),e.loginUtils.initEvent(e.Adapter.globalCallback,r)},e._login2reg=e._login2reg||function(t){e.showReg&&e.showReg(e.Adapter.globalCallback),e.preventDefault(t)},e.showMobileLogin=function(n,r){r=r||{},e.cssLoadOnce&&e.cssLoadOnce(),e.Adapter.globalCallback=n,e.mix(r,e.resConfig.loginOpts||{}),e.Adapter.ssoOpts=e.resConfig.ssoOpts;var i=r.title||e.resConfig&&e.resConfig.loginTitle||"360\u624b\u673a\u77ed\u4fe1\u767b\u5f55",s=r.width||460,o=e.Adapter.ssoOpts.wrap=r.wrap||"",u=r.css||e.resConfig&&e.resConfig.css||"",a=r.thirdLogin||[],f=e.Adapter.ssoOpts.type=r.type||"pop",l=r.cookie_domains||e.resConfig.cookie_domains||{},c=r.captFlag||!1,h=r.checkPharse||!1,p=r.customHtml||!1,d=r.afterRender||e.resConfig.loginOpts&&e.resConfig.loginOpts.afterRender||"",v=r.height||335;e.loginWays="mobile",r.cookie_domains=l,u&&e.loadCss&&e.loadCss(u);if(f=="pop")e.closePop&&e.closePop(),e.addPop(v,s,"mobilelogin"),t("#modQiUserPop").html(e.tpl.mobileLoginTpl);else{if(!o)return;t("#"+o).html(e.tpl.mobileLoginTpl)}i&&t("#qucPanelTitle").html(i),d&&d(),f=="pop"&&e.resizeAndshow(v,s);try{t(".pop-dia-close").on("click",function(t){e.resConfig.loginAfterSetName=!1,e.closePop&&e.closePop(),e.preventDefault(t)})}catch(m){}e.mobileLoginUtils.initEvent(e.Adapter.globalCallback,r)},e.showSso=function(n,r){function s(){e.closePop&&e.closePop(),e.addPop(a,u,"login");var n=i+"://axlogin.passport.360.cn/ptlogin.php",r=l[0].replace(/\|/ig,","),s=n+"?nextUrl="+i+"://"+location.host+"/psp_jump.html&requestScema="+i+"&custStyleUrl="+e.resConfig.loginOpts.custStyleUrl+"&src="+e.resConfig.src+"&domain_list="+r+"&t="+Math.random(),o='<iframe src="'+s+'" frameborder="0" width="100%" scrolling="no" height="100%" id="pspPtloginIframe"  allowtransparency="true"></iframe>';t("#modQiUserPop").html(o).css("text-indent","-1000000px").show(),f.toString().indexOf("normal")>-1&&t(".login-tab").hide(),t("#modQiUserPop").css("height","258px")}r=r||{},e.cssLoadOnce&&e.cssLoadOnce(),e.Adapter.globalCallback=n,e.mix(r,e.resConfig.ssoOpts||{}),e.Adapter.loginOpts=e.resConfig.loginOpts;var o=r.title||e.resConfig&&e.resConfig.loginTitle||"",u=r.width||460,a=r.height||335,f=r.loginType||["normal"],l=r.cookie_domains||e.resConfig.cookie_domains||[e._hostShort],c=r.css||e.resConfig&&e.resConfig.css||"",h=e.Adapter.loginOpts.wrap=r.wrap||"",p=r.afterRender||e.resConfig.ssoOpts&&e.resConfig.ssoOpts.afterRender||"";e.Adapter.loginOpts.type=r.type||"pop",c&&e.loadCss(c);if(e.Adapter.loginOpts["type"]=="pop"){s(),t("#mod_quc_pop").css("height","314px"),t("#modQiUserPop").show(),p&&p(),e.resizeAndshow(a,u);try{t(".pop-dia-close").on("click",function(t){e.resConfig.loginAfterSetName=!1,e.closePop&&e.closePop(),e.preventDefault(t)})}catch(d){}}else{var v=i+"://axlogin.passport.360.cn/ptlogin.php",m=l[0].replace(/\|/ig,","),g=v+"?nextUrl="+i+"://"+location.host+"/psp_jump.html&requestScema="+i+"&custStyleUrl="+e.resConfig.loginOpts.custStyleUrl+"&src="+e.resConfig.src+"&domain_list="+m+"&t="+Math.random(),y='<iframe src="'+g+'" frameborder="0" width="100%" scrolling="no" height="100%" id="pspPtloginIframe" allowtransparency="true" ></iframe>';if(!h)return;t("#"+h).html(y),p&&p()}},e.getUserStatus=function(n){if(!n)return;r=n,t("#pspPtusIframe")&&e.removeNode(t("#pspPtusIframe")[0]);var s=i+"://axlogin.passport.360.cn/ptlogin.php",o=s+"?nextUrl="+i+"://"+location.host+"/psp_jump.html&requestScema="+i+"&custStyleUrl="+e.resConfig.loginOpts.custStyleUrl+"&src="+e.resConfig.src+"&domain_list=[]&t="+Math.random(),u='<iframe id="pspPtusIframe" src="'+o+'" style="display:none"  allowtransparency="true"></iframe>';t(document.body).append(u)},e.ptLogin=function(i){if(r===null)if(i.s=="0")e.getUserInfo(function(t){e.execCallback(e.Adapter.globalCallback,t)}),e.closePop&&e.closePop();else if(i.s=="1"){t("#modQiUserPop").css("text-indent","0px").show(),t(".login-tab").show(),t("#other-login").on("click",function(r){t("#quick-login").removeClass("cur"),t(this).addClass("cur"),e.showLogin(e.Adapter.globalCallback,{loginType:n}),e.preventDefault(r)});try{t(".pop-dia-close").on("click",function(t){e.resConfig.loginAfterSetName=!1,e.closePop&&e.closePop(),e.preventDefault(t)})}catch(s){}}else{var o=[],u=0;for(var a=0;a<n.length;a++)n[a]!="quick"&&(o[u]=n[a],u++);e.resConfig.loginOpts.loginType=o,o==""?e.showLogin(e.Adapter.globalCallback,{loginType:["normal"]}):e.showLogin(e.Adapter.globalCallback,{loginType:o})}else e.removeNode(t("#pspPtusIframe")[0]),r(i),r=null},e.initPlaceHolders=function(){function t(e){var e=e||window.event;return e.target||e.srcElement}function n(e){var t=e.hintEl;return t&&g(t)}function r(e){var n=t(e),r=n.__emptyHintEl;if(!n||n.tagName!="INPUT"&&n.tagName!="TEXTAREA")return;r&&(n.value?r.style.display="none":r.style.display="")}function i(e){var n=t(e),r=n.__emptyHintEl;if(!n||n.tagName!="INPUT"&&n.tagName!="TEXTAREA")return;r&&(r.style.display="none")}if("placeholder"in document.createElement("input"))return;document.addEventListener?(document.addEventListener("focus",i,!0),document.addEventListener("blur",r,!0)):(document.attachEvent("onfocusin",i),document.attachEvent("onfocusout",r));var s=document.getElementById("mod_quc_pop");!s&&e.Adapter.ssoOpts.wrap&&(s=document.getElementById(e.Adapter.ssoOpts.wrap));if(!s)return;var o=[s.getElementsByTagName("input"),s.getElementsByTagName("textarea")],u=0,a=0,f,l,c;for(u=0;u<2;u++){l=o[u];for(a=0;a<l.length;a++){c=l[a],f=c.getAttribute("placeholder"),emptyHintEl=c.__emptyHintEl;if(!f){var h=c.getAttributeNode("placeholder");h&&(f=h.nodeValue)}if(f&&!emptyHintEl){emptyHintEl=document.createElement("span"),emptyHintEl.innerHTML=f,emptyHintEl.className="emptyhint",emptyHintEl.onclick=function(e){return function(){try{e.focus()}catch(t){}}}(c);if(c.value||c==document.activeElement)emptyHintEl.style.display="none";c.parentNode.insertBefore(emptyHintEl,c),c.__emptyHintEl=emptyHintEl}}}}}(QHPass),function(e){e.mobileLoginUtils=function(){var t={mobile:/^1(3|5|8|4)\d{9}$/,smscode:/^\d{6}$/},n="/smsApi/sendSmsCode",r=!1,i=null,s=null,o=null,u=["icon-wrong","icon-success"],a=["psp-tips-wrong","psp-tips-success"],f={mobile:"\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e",smscode:"\u9a8c\u8bc1\u7801\u683c\u5f0f\u4e0d\u6b63\u786e"},l={mobile:"\u624b\u673a\u53f7\u4e0d\u80fd\u4e3a\u7a7a",smscode:"\u6821\u9a8c\u7801\u4e0d\u80fd\u4e3a\u7a7a"},c=[],h=e.resConfig.requestScema;return{initEvent:function(t,r){r=r||{},s=r.sendSmsCodeSuccessFun,o=r.sendSmsCodeErrorFun,r.crumb?$("#qucCrumb").val(r.crumb):e.getUserInfo(function(e){e.qid&&$("#qucCrumb").val(e.crumb)}),$("#quc_psp_mobile_login input.ipt").focus(function(){$(this).parent().addClass("input-bg-focus")}).blur(function(){var e=this;$(e).parent().removeClass("input-bg-focus")}),c=[];if(r.cookie_domains.length==2&&r.cookie_domains[1]=="nc"||r.cookie_domains[0]=="360")nosetdc=!0;else{var i=r.cookie_domains||[],u=i.length&&i||[e._hostShort];e.forEach(u[0].split("|"),function(t){var n=e._hostShort2long[t];n&&c.push(h+"://login."+n)}),e.domainList=c}$("#quc_bm_mobile").on("keyup",function(){var t=this,n=e.trim
(t.value);e.byteLen(n)>11&&(t.value=n.substring(0,11))}),$("#quc_psp_get_authcode").click(function(){var t=e.cookieEnabled();if(!t)return!1;validAllRet=e.mobileLoginUtils.validIpt($("#quc_psp_mobile_login")[0].mobile);if(validAllRet){var r=e.trim($("#quc_bm_mobile").val()),i=QHDomain.login_https+"/?o=user&m=checkLoginMethod&requestScema="+h+"&callback=%callback%&account="+r+"&acctype=2&lm=1&rand="+Math.random();e.loadJsonp(i,function(t){if(t.errno=="0"){$("#quc_psp_get_authcode").attr("disabled","disabled");var i=QHDomain.i360+n+"/?account="+r+"&requestScema="+h+"&condition=1&acctype=2&callback=%callback%&rand="+Math.random();e.loadJsonp(i,function(t){e.mobileLoginUtils.sendSmsCodeSuccess(t)})}else t.errno=="65002"?e.mobileLoginUtils.showGlobalErr(!1,decodeURIComponent(t.errmsg)+'&nbsp;&nbsp;<a href="'+QHDomain.i360+'/security/setloginmethod" target="_blank">\u5f00\u542f\u6b64\u529f\u80fd</a>'):e.mobileLoginUtils.showGlobalErr(!1,decodeURIComponent(t.errmsg))})}}),$("#qucsecSrc").val(e.resConfig.src),$(".pop-dia-close").click(function(t){e.preventDefault(t),e.closePop&&e.closePop()}),e.initPlaceHolders&&e.initPlaceHolders()},validIpt:function(n){var r=t[n.name].test(e.trim(n.value));return!n.value||!e.trim(n.value)?(n.value=e.trim(n.value),this.showGlobalErr(!1,l[n.name]),$(n).parent().addClass("input-bg-focus")):r?($(n).parent().removeClass("input-bg-focus"),$("#quc_mobile_login_global_tips").html("")):(this.showGlobalErr(!1,f[n.name]),$(n).parent().addClass("input-bg-focus")),r},validAll:function(e){var e=e||$("#quc_psp_mobile_login")[0],n,r=!0;for(n in t)r=r&&this.validIpt(e[n]);return r},showGlobalErr:function(e,t){var n=+e,r=+!e;$("#quc_mobile_login_guide").addClass(u[r]).removeClass(u[r])[t?"show":"hide"](),$("#quc_mobile_login_global_tips").html(t)},sendSmsCodeSuccess:function(e){var t=$("#quc_psp_get_authcode");if(e.errno!="0"){t.removeAttr("disabled"),this.showGlobalErr(!1,decodeURIComponent(e.errmsg)||"\u83b7\u53d6\u6821\u9a8c\u7801\u5931\u8d25\uff01"),o&&o(e.errno);return}s&&s(e.errno),t.attr("disabled","disabled").val("120\u79d2\u540e\u53ef\u91cd\u53d1");var n=120,r=setInterval(function(){n<1?(clearInterval(r),t.removeAttr("disabled").val("\u514d\u8d39\u83b7\u53d6\u6821\u9a8c\u7801")):t.val(n-- +"\u79d2\u540e\u53ef\u91cd\u53d1")},1e3)},submit:function(t){var n;n=this.validAll(t),cookieEnabled=e.cookieEnabled();if(!cookieEnabled)return;if(n){$("#loginSubmit")[0].disabled=!0,$("#loginSubmit").removeClass("btn-login").addClass("btn-login-loading");var r=e.trim($("#quc_bm_mobile").val()),i=QHDomain.login_https+"/?o=sso&m=getToken&requestScema="+h+"&func=QHPass.loginUtils.tokenCallback&userName="+r+"&rand="+Math.random();e.loadJsonp(i),e._timeoutHandler=setTimeout(function(){var t=QHDomain.login_http+"/?o=sso&m=getToken";t+="&requestScema="+h+"&func=QHPass.loginUtils.tokenCallback&"+"userName="+encodeURIComponent(username)+"&rand="+Math.random(),e.loadJsonp(t),isFirstSubmit=!1,httpsTimeoutFunc&&httpsTimeoutFunc(),e._timeoutHandler=setTimeout(function(){$("#loginSubmit").removeClass("btn-login-loading").addClass("btn-login"),e.mobileLoginUtils.showGlobalErr(!1,"\u8bf7\u6c42\u8d85\u65f6"),$("#loginSubmit")[0].disabled=!1,httpTimeoutFunc&&httpTimeoutFunc()},1e4)},1e4)}return!1}}}()}(QHPass),function(e){var t=e.$,n=e.resConfig.requestScema,r=QHDomain.login_https+"/?o=sso&m=getToken",i="",s=[],o=0,u=QHDomain.captchaUrl,a="",f="i360",l="",c=!1,h=1;prevUsername="",captFlag=!1,type="pop",checkPharse=!1,isFirstSubmit=!0,t0="",t1="",callBack=null,onLoading=null,auth_info={},successfun=null,httpTimeoutFunc=null,httpsTimeoutFunc=null,errorfun=null,t.prototype.parent||(t.prototype.parent=t.prototype.parentNode);var p={win:null,showErrs:function(n,r){return clearTimeout(e._timeoutHandler),t("#loginSubmit").removeClass("btn-login-loading").addClass("btn-login"),!e.resConfig.loginOpts.err2Global&&n&&type!="pop"?(r&&t("#tips-"+n).addClass("tips-msg").html(r).show(),n&&t(".icon-"+n).addClass("icon-wrong").show()):e.loginWays=="mobile"?t("#quc_mobile_login_global_tips").html(r):t("#error_tips").html(r).removeClass("login-loading").addClass("login-error").show(),!1},getLoginUrl:function(t){var r="";return(t="http")?r+=QHDomain.login_http:r+=QHDomain.login_https,r+"/?o=sso&m=login&requestScema="+n+"&from="+e.resConfig.src+"&rtype=data&func=QHPass.loginUtils.loginCallback"},tokenCallback:function(n){var r=e.trim(t("#loginAccount").val()),i=t("#lpassword").val(),s=t("#iskeepalive").attr("checked")?1:0,o=t("#phraseLogin").val();e.resConfig.passLevelCookieName&&e.getPassLevel&&e.Cookie.set(e.resConfig.passLevelCookieName,e.getPassLevel(i),{expires:5184e6,path:"/"});if(n.errno!=0)return clearTimeout(e._timeoutHandler),t("#loginSubmit")[0].disabled=!1,p.showErrs("",decodeURIComponent(n.errmsg)),!1;if(e.loginWays=="mobile"){var r=e.trim(t("#quc_bm_mobile").val()),i=e.trim(t("#quc_bm_smscode").val()),u="acctype=2&lm=1&validatelm="+(e.resConfig.loginOpts.validatelm?e.resConfig.loginOpts.validatelm:"0");e.loginUtils.doLogin(r,i,s,n.token,o,u)}else{var u="lm=0&validatelm="+(e.resConfig.loginOpts.validatelm?e.resConfig.loginOpts.validatelm:"0");e.loginUtils.doLogin(r,i,s,n.token,o,u)}},doLogin:function(t,n,r,s,o,u){var a=[];a.push("userName="+encodeURIComponent(t)),a.push("pwdmethod=1"),a.push("isKeepAlive="+r),a.push("token="+s),captFlag?(a.push("captFlag=1"),a.push("captId="+f),a.push("captCode="+encodeURIComponent(o))):a.push("captFlag="),a.push(u),u.indexOf("acctype")>-1?a.push("password="+n):a.push("password="+hex_md5(n)),a.push("r="+(new Date).getTime()),t0=(new Date).getTime(),isFirstSubmit?i=this.getLoginUrl():i=this.getLoginUrl("http"),e.loadJsonp(i+"&"+a.join("&"))},loginSuccess:function(){successfun&&successfun(),clearTimeout(e._timeoutHandler),t("#error_tips").removeClass("login-loading").addClass("login-success"),t("#error_tips").html(""),t1=(new Date).getTime(),e.Cookie.set("i360loginName",t("#loginAccount").val(),{expires:5184e6,path:"/"}),a.ldtime=t1-t0;if(e.resConfig.loginAfterSetName)if(a.type!="bind"&&(!a.userName||a.userName.indexOf("360U")>-1))e.showSetName&&e.showSetName(e.Adapter.globalCallback,{notRequest:!0,crumb:a.crumb});else if(a.type=="bind")e.showBind&&e.showBind(e.Adapter.globalCallback,{notRequest:!0,crumb:a.crumb});else{try{e.setloginStatus(a)}catch(n){}e.execCallback(e.Adapter.globalCallback,a)}else{try{e.setloginStatus(a)}catch(n){}e.execCallback(e.Adapter.globalCallback,a)}},setCookieCallback:function(r){if(r.errno>0){t("#loginSubmit")[0].disabled=!1;return}var i=e.domainList[o++];i?e.loadJsonp(i+"/?o=sso&m=setcookie&requestScema="+n+"&func=QHPass.loginUtils.setCookieCallback&"+"s="+l):p.loginSuccess()},loginuse:function(t,r,i,s){var o=(new Date).getTime(),u="";if(r=="pop"){var a=e.getDocRect();toleft=a.scrollX+(a.width-875)/2,totop=Math.max(a.scrollY+(a.height-645)/2,0),u="left="+toleft+",top="+totop+",alwaysRaised=yes,height=645,width=875"}this.win=window.open(QHDomain.i360+"/oauth/loginByOauth?c="+t+"&requestScema="+n+"&type="+r+"&destUrl="+encodeURIComponent(s)+"&f="+i+"&r="+o,"oauthlogin",u)},closeOpenHander:function(){return this.win.close()},loginCallback:function(n){if(n.errno==0)l=n.s,a=n.userinfo,c?p.loginSuccess():(o=0,p.setCookieCallback(n));else{clearTimeout(e._timeoutHandler),t("#loginSubmit")[0].disabled=!1,t("#loginSubmit")[0].className="btn-login",errorfun&&errorfun(),t("#error_tips").html("");switch(n.errno){case 1036:t("#loginAccount").focus(),n.capturl&&(e.loginUtils.doGetCaptcha(n.capturl),t("#phraseLogin").val("")),p.showErrs("loginAccount","\u5e10\u53f7\u6216\u5bc6\u7801\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165"),t("#lpassword").val("");break;case 221:t("#loginAccount").focus(),n.capturl&&(e.loginUtils.doGetCaptcha(n.capturl),t("#phraseLogin").val(""));var r=n.errmsg+',<a target="_blank" href="http://www.360.cn/about/contactus.html">\u8bf7\u8054\u7cfb\u5ba2\u670d</a>';p.showErrs("loginAccount",r),t("#lpassword").val("");break;case 219:case 220:t("#lpassword").val(""),t("#lpassword").focus(),n.capturl&&(e.loginUtils.doGetCaptcha(n.capturl),t("#phraseLogin").val("")),p.showErrs("lpassword","\u5e10\u53f7\u6216\u5bc6\u7801\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165");break;case 2e4:p.showErrs("loginAccount",n.errmsg);break;case"login_captcha_001":case"login_captcha_002":case"login_captcha_003":checkPharse=!0,t("#phraseLoginwarp").show(),t("#phraseLogin").focus(),e.loginUtils.doGetCaptcha(n.capturl),p.showErrs("phraseLogin",n.errmsg);break;case 65001:p.showErrs("",decodeURIComponent(n.errmsg)+'&nbsp;&nbsp;<a href="'+QHDomain.i360+'/security/setloginmethod" target="_blank">\u5173\u95ed\u6b64\u529f\u80fd</a>');break;case 65002:p.showErrs("",decodeURIComponent(n.errmsg)+'&nbsp;&nbsp;<a href="'+QHDomain.i360+'/security/setloginmethod" target="_blank">\u5f00\u542f\u6b64\u529f\u80fd</a>');break;default:p.showErrs("",n.errmsg)}}},submit:function(){function i(e){t("#tips-"+e).hide(),t(".icon-"+e).hide(),t("#error_tips").hide()}var s=e.trim(t("#loginAccount").val()),o=/^(13|14|15|18)\d{9}$/,u=t("#lpassword").val(),a=e.trim(t("#phraseLogin").val()),f=r+"&requestScema="+n+"&func=QHPass.loginUtils.tokenCallback&"+"userName="+encodeURIComponent(s)+"&rand="+Math.random(),l=e.cookieEnabled();if(!l)return!1;if(s=="")return t("#loginAccount").val("").focus(),p.showErrs("loginAccount","\u8bf7\u8f93\u5165\u60a8\u7684\u5e10\u53f7");i("loginAccount");if(u=="")return t("#lpassword").val("").focus(),p.showErrs("lpassword","\u8bf7\u8f93\u5165\u60a8\u7684\u5bc6\u7801");if(e.byteLen(u)<6)return t("#lpassword").val("").focus(),p.showErrs("lpassword","\u5e10\u53f7\u6216\u5bc6\u7801\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165");i("lpassword");if(checkPharse&&a.length!=4)return t("#phraseLogin").val("").focus(),p.showErrs("phraseLogin","\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u9a8c\u8bc1\u7801");i("phraseLogin"),t("#error_tips").removeClass("login-error").addClass("login-loading"),onLoading&&onLoading(),e._timeoutHandler=setTimeout(function(){var r=QHDomain.login_http+"/?o=sso&m=getToken";r+="&requestScema="+n+"&func=QHPass.loginUtils.tokenCallback&"+"userName="+encodeURIComponent(s)+"&rand="+Math.random(),e.loadJsonp(r),isFirstSubmit=!1,httpsTimeoutFunc&&httpsTimeoutFunc(),e._timeoutHandler=setTimeout(function(){t("#loginSubmit").removeClass("btn-login-loading").addClass("btn-login"),t("#error_tips").html("\u8bf7\u6c42\u8d85\u65f6").removeClass("login-loading").addClass("login-error").show(),t("#loginSubmit")[0].disabled=!1,httpTimeoutFunc&&httpTimeoutFunc()},1e4)},1e4),t("#loginSubmit").removeClass("btn-login").addClass("btn-login-loading"),t("#loginSubmit")[0].disabled=!0,e.loadJsonp(f)},initEvent:function(r,i){function o(){setTimeout(function(){var n=e.Cookie.get("i360loginName");n&&n!="undefined"&&t("#loginAccount").val(n),e.initPlaceHolders()},50)}callBack=r,errorfun=i.errorfun||"",successfun=i.successfun||"",httpTimeoutFunc=i.httpTimeoutFunc||"",httpsTimeoutFunc=i.httpsTimeoutFunc||"",onLoading=i.onLoading||"",captFlag=i.captFlag||!1,type=i.type||"pop",checkPharse=i.checkPharse||!1,s=[];if(i.cookie_domains.length==2&&i.cookie_domains[1]=="nc"||i.cookie_domains[0]=="360")c=!0;else{var u=i.cookie_domains||[],a=u.length&&u||[e._hostShort];e.forEach(a[0].split("|"),function(t){var r=e._hostShort2long[t];r&&s.push(n+"://login."+r)}),e.domainList=s}t(".tipinput1").focus(function(){var e=t(this).attr("id");e=="phraseLogin"?t(this).parent().removeClass("verify-code").addClass("verify-code-focus"):t(this).parent().removeClass("input-bg").addClass("input-bg-focus")}).blur(function(){var e=t(this).attr("id"),n=t(this).val();e=="phraseLogin"?t(this).parent().removeClass("verify-code-focus").addClass("verify-code"):t(this).parent().removeClass("input-bg-focus").addClass("input-bg"),n||t("#tips-"+e).show()}),t("#loginAccount").blur(function(){var n=e.trim(t("#loginAccount").val());prevUsername=n}),t("#lwm,#refreshCaptchaLogin").click(function(){p.doGetCaptcha(),t("#phraseLogin").val("").focus(),e.preventDefault(event)}),type=="pop"?o():(o(),t(window).on("load",function(){o()}))},doGetCaptcha:function(r){r||(e.queryUrl(location.href,"captcha")=="b360"&&(u=QHDomain.i360+"/reg/doGetCap?app="),r=u+f+"&requestScema="+n),t("#lwm").attr("src",r+"&r="+Math.random())},userAuth:function(e){auth_info=e;var n='<label for="qucqlogin"><input type="radio" value="ss" checked="checked" id="qucqlogin" name="qucqlogin">'+e.userName+"</label>";e.userName&&t("#qhAccount").html(n)},quickLogin:function(t){e.autoAuth(t,auth_info)}};e.loginUtils=p}(QHPass),QHPass.tpl.loginTpl={formStart:['<div id="modLoginWrap" class="mod-qiuser-pop">','<iframe style="display:none" name="loginiframe"></iframe><form id="loginForm" method="post" target="loginiframe" onsubmit="QHPass.loginUtils.submit();return false;">',' <dl class="login-wrap">','<dt><span id="loginTitle"></span><div id="infobarNoCookie" class="noCookie">\u6d4f\u89c8\u5668\u5df2\u7981\u6b62\u8bbe\u7f6ecookie\uff0c\u65e0\u6cd5\u6b63\u5e38\u767b\u5f55\uff0c\u8bf7<a href="http://i.360.cn/help/opencookie" target="_blank"> \u542f\u7528cookie </a>?</div></dt>'].join(""),userName:["<dd >",'<div class="quc-clearfix login-item">','<label for="loginAccount" >\u5e10\u53f7</label><span class="input-bg"><input placeholder="\u624b\u673a\u53f7/\u7528\u6237\u540d/\u90ae\u7bb1" type="text" tabindex="1" id="loginAccount" name="username" autocomplete="off" maxlength="100"  class="ipt tipinput1"/></span>','<b class="tips-wrong icon-loginAccount"></b>','<span id="tips-loginAccount" class="tips-msg "></span>',"</div>","</dd>"].join(""),password:['<dd class="password">','<div class="quc-clearfix login-item">','<label for="lpassword" >\u5bc6\u7801</label><span class="input-bg"><input placeholder="\u8bf7\u8f93\u5165\u60a8\u7684\u5bc6\u7801" type="password" tabindex="2" id="lpassword" name="password" maxlength="20"  autocomplete="off" class="ipt tipinput1"/></span>','<b class="tips-wrong icon-lpassword"></b>','<span id="tips-lpassword" class="tips-msg"></span>',"</div>","</dd>"].join(""),phrase:['<dd class="rem" id="phraseLoginwarp" style="display:none" >','<label for="phraseLogin">\u9a8c\u8bc1\u7801</label>','<span class="verify-code"><input type="text" tabindex="3" maxlength="4" placeholder="\u9a8c\u8bc1\u7801" id="phraseLogin" name="phrase" class="ipt1 tipinput1" autocomplete="off"></span>','<span class="yz"><img width="99" height="35" id="lwm">','<a  class="ml8 fac" href="#nogo" id="refreshCaptchaLogin">\u6362\u4e00\u5f20</a>',"</span>",'<p><b class="tips-wrong  icon-phraseLogin"></b><span id="tips-phraseLogin" class="tips-phrase">\u8bf7\u8f93\u5165\u56fe\u4e2d\u7684\u5b57\u6bcd\u6216\u6570\u5b57\uff0c\u4e0d\u533a\u5206\u5927\u5c0f\u5199</span></p>',"</dd>"].join(""),find:['<dd class="find">','<label for="iskeepalive"><input type="checkbox" tabindex="4" name="iskeepalive" id="iskeepalive" checked="checked"> \u4e0b\u6b21\u81ea\u52a8\u767b\u5f55</label>',"<a href="+QHDomain.i360+'/findpwd/  target="_blank" class="fac" id="findPwd">\u5fd8\u8bb0\u5bc6\u7801\uff1f</a>',"</dd>"].join(""),thirdLogin:"",submit:['<dd class="submit">','<span><input type="submit" onfocus="this.blur()"  id="loginSubmit" value="" class="btn-login quc-psp-gstat"><a href="###" class="fac reg-new-account" >\u6ce8\u518c\u65b0\u5e10\u53f7</a></span>',"</dd>"].join(""),formEnd:['<dd class="global-tips">','<div id="error_tips" class=""></div>',"</dd>","</dl>","</form>","</div>"].join("")},QHPass.tpl.pspFriend={sina:"<a href=\"#\" onclick=\"QHPass.loginUtils.loginuse('Sina','#{type}','#{from}','#{destUrl}'); return false;\"  class=\"loginbtn_sina\"  title=\"\u65b0\u6d6a\u5fae\u535a\u767b\u5f55\"></a>",renren:"<a href=\"#\"  onclick=\"QHPass.loginUtils.loginuse('RenRen','#{type}','#{from}','#{destUrl}'); return false;\" class=\"loginbtn_rr\"  title=\"\u4eba\u4eba\u767b\u5f55\"></a>",fetion:"<a href=\"#\" onclick=\"QHPass.loginUtils.loginuse('Fetion','#{type}','#{from}','#{destUrl}'); return false;\" class=\"loginbtn_fx\"  title=\"\u98de\u4fe1\"></a>",msn:"<a href=\"#\"  onclick=\"QHPass.loginUtils.loginuse('Msn','#{type}','#{from}','#{destUrl}'); return false;\"  class=\"loginbtn_msn\" title=\"Msn\u767b\u5f55\"></a>",Telecom:"<a href=\"#\"  onclick=\"QHPass.loginUtils.loginuse('Telecom','#{type}','#{from}','#{destUrl}'); return false;\"  class=\"loginbtn_ty\" title=\"\u5929\u7ffc\u767b\u5f55\"></a>"},QHPass.tpl.mobileLoginTpl='<div class="mod-mobile-login mod-qiuser-pop"><iframe style="display:none" name="ifr_psp_mobile_login"></iframe><form method="post" onsubmit="return QHPass.mobileLoginUtils.submit(this);" id="quc_psp_mobile_login" name="qucPspMobileLogin" target="ifr_psp_mobile_login"><dl class="reg-wrap mobile-login-wrap"><dt><span id="quc_mobile_login_guide"></span><div id="infobarNoCookie" class="noCookie">\u6d4f\u89c8\u5668\u5df2\u7981\u6b62\u8bbe\u7f6ecookie\uff0c\u65e0\u6cd5\u6b63\u5e38\u767b\u5f55\uff0c\u8bf7<a href="http://i.360.cn/help/opencookie" target="_blank"> \u542f\u7528cookie </a>?</div><div id="quc_mobile_login_global_tips" class="reg-global-error"></div></dt><dd><div class="quc-clearfix reg-item"><label for="quc_bm_mobile">\u624b\u673a\u53f7</label><span class="input-bg"><input type="text" id="quc_bm_mobile" name="mobile" placeholder="\u8bf7\u8f93\u5165\u60a8\u7684360\u5e10\u53f7\u7ed1\u5b9a\u624b\u673a" psp-err-str="\u624b\u673a\u53f7\u683c\u5f0f\u9519\u8bef" maxlength="11" autocomplete="off" class="ipt tipinput" tabindex="1"></span></div></dd><dd><div class="btn-authcode"><input type="button" id="quc_psp_get_authcode" onfocus="this.blur()" class="auth-code btn-auth-code" value="\u514d\u8d39\u83b7\u53d6\u6821\u9a8c\u7801"><a class="ques-link" target="_blank" href="http://i.360.cn/help/smscode">\u6821\u9a8c\u7801\u5e38\u89c1\u95ee\u9898</a></div></dd><dd><div class="quc-clearfix reg-item"><label for="quc_bm_smscode">\u6821\u9a8c\u7801</label><span class="input-bg"><input type="text" id="quc_bm_smscode" placeholder="\u8bf7\u8f93\u5165\u60a8\u7684\u6821\u9a8c\u7801" name="smscode" psp-err-str="\u6821\u9a8c\u7801\u683c\u5f0f\u9519\u8bef" maxlength="6" autocomplete="off" class="ipt tipinput " tabindex="2"></span></div></dd><dd class="find"><label for="iskeepalive"><input type="checkbox" tabindex="4" name="iskeepalive" id="iskeepalive" checked="checked"> \u4e0b\u6b21\u81ea\u52a8\u767b\u5f55</label></dd><dd class="submit"><input type="submit" onfocus="this.blur()" id="loginSubmit" value="" class="btn-login quc-psp-gstat"></dd></dl><input name="account" value="" type="hidden" /><input name="acctype" value="2" type="hidden" /><input name="condition" value="1" type="hidden" /><input id="qucsecSrc" name="src" value="" type="hidden" /><input id="qucQid" name="qid" type="hidden" /><input id="qucCrumb" name="crumb" type="hidden" /><input id="pageType" name="charset" value="gbk" type="hidden" /><input id="jump_url" name="proxy" type="hidden" value="'+QHPass.resConfig.requestScema+"://"+location.host+'/psp_jump.html" />'+'<input id="callback" name="callback" value="parent.QHPass.mobileLoginUtils.mobileLoginSuccess" type="hidden" />'+"</form>"+"</div>",function(e){var t=e.$,n=QHDomain.captchaUrl,r="i360",i=e.resConfig.requestScema;t.prototype.getAttr=t.prototype.getAttr||t.prototype.attr,t.prototype.ancestorNode=t.prototype.ancestorNode||t.prototype.closest,e.removeNode=function(e){e&&e.parentNode.removeChild(e)},e.removeFromArray=function(e,t){var n=[],r=0,i=t.length;for(r=0;r<i;r++)t[r]!=e&&n.push(t[r]);return n},e.bindGetcode=function(n,r){e.forEach(t(n),function(n){var r=null,s=120,o=/^(13|14|15|17|18)\d{9}$/;obj=t(n),clearInterval(r),obj.click(function(n){return function(){var u=t("#phoneReg").val();u?o.test(u)?(n[0].disabled=!0,e.loadJsonp(QHDomain.i360+"/smsApi/sendsmscode?account="+u+"&requestScema="+i+"&condition=2&r="+Math.random(),function(i){if(i.errno=="0"){n.removeClass("auth-code").addClass("msging"),n.val(s+"\u79d2\u540e\u70b9\u6b64\u53ef\u91cd\u53d1");var o=s;r=setInterval(function(){o<1?(n[0].disabled=!1,n.removeClass("msging").addClass("auth-code"),o=s,n.val("\u70b9\u6b64\u91cd\u53d1\u6821\u9a8c\u7801"),clearInterval(r)):(o-=1,n.val(o+"\u79d2\u540e\u70b9\u6b64\u53ef\u91cd\u53d1"))},1e3)}else if(i.errno==1106){var u="\u5e10\u53f7\u5df2\u5b58\u5728 "+e.resConfig.regOpts.tipText.reg_login_now;t(".icon-phoneReg").removeClass("icon-success").removeClass("icon-loading").addClass("icon-wrong").show(),t("#tips-phoneReg").html(u).addClass("reg-tips-wrong").show(),n[0].disabled=!1}else t(".icon-phoneReg").removeClass("icon-success").removeClass("icon-loading").addClass("icon-wrong").show(),t("#tips-phoneReg").html(i.errmsg).addClass("reg-tips-wrong").show(),n[0].disabled=!1})):e.regUtils.showErrs("phoneReg","\u624b\u673a\u53f7\u683c\u5f0f\u9519\u8bef"):e.regUtils.showErrs("phoneReg","\u624b\u673a\u53f7\u4e0d\u80fd\u4e3a\u7a7a")}}(obj))})},e.showBind=function(t,n){n=n||{},e.mix(n,e.resConfig.bindOpts),e.showReg(t,n)},e.showReg=function(n,r){function i(n,r,i){var u={email:n?'<li data-type="email" class= "ncur"  ><a  href="###"><span class="email-icon">\u90ae\u7bb1\u6ce8\u518c</span></a></li>':"",phone:r?'<li data-type="phone" class= "ncur"  ><a  href="###"><span class="tel-icon">\u624b\u673a\u6ce8\u518c</span></a></li>':"",name:i?'<li data-type="name" class= "ncur"  ><a  href="###"><span class="uname-icon">\u7528\u6237\u540d\u6ce8\u518c</span></a></li>':""},a="";if(o.length>1)for(var f=0,l=o.length;f<l;f++)o[f]=="normal"?o[f]="email":"",a+=u[o[f]];else a=u.email+u.phone+u.name;t("#regWays").html(a);var c=t("#regWays li");for(var f=0,l=c.length;f<l;f++){var h=t(c[f]);if(h.getAttr("data-type")==o[0]){h.removeClass("ncur").addClass("cur");break}}t("#regWays").click(function(n){var r=n.target,i=t(r).ancestorNode("li"),o=t(i)[0].getAttribute("data-type");if(t(i).hasClass("cur"))return;t("li[data-type]").removeClass("cur").addClass("ncur"),t(i).removeClass("ncur").addClass("cur"),s(o),e.preventDefault(n)})}function s(n){switch(n){case"email":e.showReg(e.Adapter.globalCallback,{regway:"email"});break;case"phone":e.showReg(e.Adapter.globalCallback,{regway:"phone"});break;case"name":e.showReg(e.Adapter.globalCallback,{regway:"name"})}t("a,button,label").focus(function(){this.blur()})}r=r||{},r.regway=r.regway||e.resConfig.regway||"normal",e.cssLoadOnce&&e.cssLoadOnce(),e.Adapter.globalCallback=n;var o=e.resConfig.regType||"normal";o=o.split("_"),regway=r.regway,regway=="phone"?e.mix(r,e.resConfig.regPhoneOpts||{}):e.mix(r,e.resConfig.regOpts||{});var u=r.title||e.resConfig&&e.resConfig.regTitle||"\u6b22\u8fce\u6ce8\u518c360",a=r.width||531,f=r.height||390,l=r.css||e.resConfig&&e.resConfig.css||"",c=r.field||["loginEmail","password","rePassword","phrase"],h=r.wrap||"",p=r.cookie_domains||e.resConfig.cookie_domains||[],d=r.afterRender||"",v=r.captFlag==null?!0:r.captFlag;customBtn=r.customBtn||!1,notMustField=r.notMustField||[],nickname=r.nickname||!1,needName=r.needName||!1,needEmailActive=regway=="name"?!1:r.needEmailActive||!1,type=r.type||(h?"wrap":"pop"),r.cookie_domains=p,regway=="email"||regway=="normal"?regway="email":regway=="phone"?c=["phone","password","rePassword","authCode"]:regway=="name"?c=["regUsername","password","rePassword","phrase"]:regway=="bind"&&(c=["regUsername","password","rePassword"]||e.resConfig&&e.resConfig.bindOpts.field),needName&&regway!="name"&&regway!="bind"&&needName&&c.splice(1,0,"regUsername");if(nickname&&regway!="name"&&regway!="bind")for(var m=0,g=c.length;m<g;m++)if(c[m]=="password"){c.splice(m,0,"nickname");break}l&&e.loadCss&&e.loadCss(l);var y=[];c=regway!="bind"?"formStart#"+c.join("#")+"#formEnd":"formStart#"+c.join("#")+"#formBindEnd",c=c.split("#"),e.tpl.temp[regway+"Reg"]==""&&(e.forEach(c,function(t){y.push(e.tpl.regTpl[t])}),regway=="email"||regway=="normal"?e.tpl.temp.emailReg=y.join(""):e.tpl.temp[regway+"Reg"]=y.join(""));if(type=="pop")e.resConfig.regPopOnce&&(e.closePop&&e.closePop(),e.addPop(f,a,"reg"),regway!="bind"?i("email","tel","name"):(t(".reg-nav").hide(),t(".reg-quc-content").css({"padding-left":"10px"})),e.resConfig.regPopOnce=!1),t("#modQiUserPop").html(e.tpl.temp[regway+"Reg"]),regway=="name"?t(".has-account").css({"margin-top":165+52*(3-o.length)+"px"}):t(".has-account").css({"margin-top":227+52*(3-o.length)+"px"});else{if(!h)return;t("#"+h).html(e.tpl.temp[regway+"Reg"])}e.forEach(t(".tipinput"),function(e,n){t(e).attr("tabindex",n+1)}),u&&t("#qucPanelTitle").html(u);try{t(document.body).undelegate(".clk-quc-login","click",e._reg2login),t(document.body).delegate(".clk-quc-login","click",e._reg2login)}catch(b){}v&&e.refreshCaptcha(),regway=="bind"&&(t("#qucpspregForm").attr("action",QHDomain.i360+"/profile/dotraninfo"),t("#qucPopcrumb").val(r.crumb||""),t("#loginEmail").attr("name","loginEmail")),e.resConfig&&e.resConfig.postCharset&&t(".mod-qiuser-pop input[id=pageType]").val(e.resConfig.postCharset),needEmailActive&&t("#loginEmailActiveFlag").val(1),d&&d(),type=="pop"&&e.resizeAndshow(f,a);try{t(".pop-dia-close").click(function(t){e.closePop&&e.closePop(),e.preventDefault(t)})}catch(b){}e.regUtils.initEvent(e.Adapter.globalCallback,r)},e._reg2login=e._reg2login||function(t){e.login(e.Adapter.globalCallback),e.preventDefault(t)},e.initFormByUrl=function(n){var r=e.queryUrl(location.href,"src")||"";r&&t("#src"+n).val(r)},e.refreshCaptcha=function(){e.queryUrl(location.href,"captcha")=="b360"&&(n=QHDomain.i360+"/reg/doGetCap?app="),t("#wm").attr("src",n+r+"&requestScema="+i+"&r="+Math.random())}}(QHPass),function(e){e.resConfig.regOpts.tipText={reg_default_loginEmail:'\u8bf7\u8f93\u5165\u60a8\u7684\u5e38\u7528\u90ae\u7bb1\uff0c<a target="_blank" class="fac" href="http://reg.email.163.com/mailregAll/reg0.jsp"> \u6ca1\u6709\u90ae\u7bb1\uff1f</a>',reg_default_regUsername:"2-14\u4e2a\u5b57\u7b26\uff1a\u82f1\u6587\u3001\u6570\u5b57\u6216\u4e2d\u6587",reg_default_nickname:"2-14\u4e2a\u5b57\u7b26\uff1a\u82f1\u6587\u3001\u6570\u5b57\u6216\u4e2d\u6587",reg_default_password:"6-20\u4e2a\u5b57\u7b26\uff0c\u533a\u5206\u5927\u5c0f\u5199",reg_default_rePassword:"\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801",reg_default_phrase:"\u8bf7\u8f93\u5165\u56fe\u4e2d\u7684\u5b57\u6bcd\u6216\u6570\u5b57\uff0c\u4e0d\u533a\u5206\u5927\u5c0f\u5199",reg_default_phoneReg:"\u8bf7\u8f93\u5165\u60a8\u7684\u624b\u673a\u53f7",reg_default_authCode:"\u8bf7\u8f93\u5165\u77ed\u4fe1\u4e2d6\u4f4d\u6570\u5b57\u6821\u9a8c\u7801",reg_default_realName:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u771f\u5b9e\u59d3\u540d",reg_default_idCardNum:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u8eab\u4efd\u8bc1\u53f7\u7801",reg_wrong_default_loginEmail:'\u8bf7\u8f93\u5165\u60a8\u7684\u5e38\u7528\u90ae\u7bb1\uff0c<a target="_blank" class="fac" href="http://reg.email.163.com/mailregAll/reg0.jsp"> \u6ca1\u6709\u90ae\u7bb1\uff1f</a>',reg_wrong_default_regUsername:"\u8bf7\u8f93\u5165\u60a8\u7684\u7528\u6237\u540d",reg_wrong_default_phoneReg:"\u8bf7\u8f93\u5165\u60a8\u7684\u624b\u673a\u53f7",reg_wrong_default_nickname:"\u8bf7\u8f93\u5165\u60a8\u7684\u6635\u79f0",reg_wrong_default_password:"\u5bc6\u7801\u5e94\u4e3a6-20\u4e2a\u5b57\u7b26\uff0c\u533a\u5206\u5927\u5c0f\u5199",reg_wrong_default_rePassword:"\u4e24\u6b21\u8f93\u5165\u7684\u5bc6\u7801\u4e0d\u4e00\u6837\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",reg_wrong_default_phrase:"\u8bf7\u6b63\u786e\u586b\u5199\u9a8c\u8bc1\u7801",reg_wrong_default_authCode:"\u8bf7\u8f93\u5165\u77ed\u4fe1\u4e2d6\u4f4d\u6570\u5b57\u6821\u9a8c\u7801",reg_wrong_loginEmail_empty:"\u8bf7\u8f93\u5165\u60a8\u7684\u5e38\u7528\u90ae\u7bb1",reg_wrong_loginEmail_format:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u90ae\u7bb1\u5730\u5740",reg_wrong_password_chinese:"\u5bc6\u7801\u4e0d\u80fd\u542b\u6709\u4e2d\u6587\u6216\u5168\u89d2\u5b57\u7b26",reg_wrong_password_same_chars:"\u5bc6\u7801\u4e0d\u80fd\u5168\u4e3a\u76f8\u540c\u5b57\u7b26",reg_wrong_password_empty:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a",reg_wrong_password_emptychars:"\u5bc6\u7801\u4e0d\u80fd\u5168\u90e8\u4e3a\u7a7a\u683c",reg_wrong_password_weaklevel:"\u5bc6\u7801\u5f31\uff0c\u6709\u98ce\u9669\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",reg_wrong_password_lx_chars:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u8fde\u7eed\u5b57\u7b26",reg_wrong_repassword_empty:"\u786e\u8ba4\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a",reg_wrong_repassword_emptychars:"\u786e\u8ba4\u5bc6\u7801\u4e0d\u80fd\u5168\u90e8\u4e3a\u7a7a\u683c",reg_wrong_phrase_input:"\u9a8c\u8bc1\u7801\u8f93\u5165\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",reg_wrong_phrase_ban:"\u9a8c\u8bc1\u7801\u8fde\u7eed\u9519\u8bef\u6b21\u6570\u8fc7\u591a\uff0c\u8bf7\u6539\u5929\u518d\u6765",reg_wrong_isagree:"\u8bf7\u5148\u9605\u8bfb\u5e76\u540c\u610f\u300a360\u7528\u6237\u670d\u52a1\u6761\u6b3e\u300b",reg_wrong_process_error:"\u6ce8\u518c\u8fc7\u7a0b\u4e2d\u53d1\u751f\u610f\u5916\uff0c\u8bf7\u5237\u65b0\u540e\u91cd\u8bd5",net_check:"\u68c0\u67e5\u4e2d\uff0c\u8bf7\u7a0d\u540e...",reg_wrong_username_short:"\u7528\u6237\u540d\u6700\u5c11\u4f7f\u75282\u4e2a\u5b57\u7b26\u6216\u6c49\u5b57",reg_wrong_username_long:"\u7528\u6237\u540d\u4e0d\u8d85\u8fc77\u4e2a\u6c49\u5b57\u621614\u4e2a\u5b57\u7b26",reg_wrong_username_chars:"\u7528\u6237\u540d\u4ec5\u80fd\u5305\u542b\u4e2d\u82f1\u6587\u3001\u6570\u5b57\u3001\u201c_\u201d\u6216\u201c.\u201d",reg_wrong_username_empty:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u7528\u6237\u540d",reg_wrong_nickname_short:"\u6635\u79f0\u6700\u5c11\u4f7f\u75282\u4e2a\u5b57\u7b26\u6216\u6c49\u5b57",reg_wrong_nickname_long:"\u6635\u79f0\u4e0d\u8d85\u8fc77\u4e2a\u6c49\u5b57\u621614\u4e2a\u5b57\u7b26",reg_wrong_nickname_chars:"\u6635\u79f0\u4ec5\u80fd\u5305\u542b\u4e2d\u82f1\u6587\u3001\u6570\u5b57\u3001\u201c_\u201d\u6216\u201c.\u201d",reg_wrong_nickname_empty:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u6635\u79f0",reg_wrong_authCode_empty:"\u6821\u9a8c\u7801\u4e0d\u80fd\u4e3a\u7a7a",reg_wrong_phoneNumber_empty:"\u8bf7\u8f93\u5165\u60a8\u7684\u624b\u673a\u53f7",reg_wrong_phoneNumber_format:"\u624b\u673a\u53f7\u683c\u5f0f\u9519\u8bef",reg_wrong_format_authCode:"\u6821\u9a8c\u7801\u683c\u5f0f\u9519\u8bef",reg_wrong_idCardNum_empty:"\u8eab\u4efd\u8bc1\u53f7\u4e0d\u80fd\u4e3a\u7a7a",reg_wrong_realName_empty:"\u771f\u5b9e\u59d3\u540d\u4e0d\u80fd\u4e3a\u7a7a",reg_wrong_realName:"\u59d3\u540d\u4e0d\u6b63\u786e\uff0c\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u59d3\u540d",reg_wrong_idCardNum:"\u8bf7\u68c0\u67e5\u4f60\u7684\u8eab\u4efd\u8bc1\u53f7\u7801\uff0c\u652f\u630115\u4f4d\u6216\u800518\u4f4d",reg_wrong_age_lt18:"\u60a8\u672a\u6ee118\u5c81\uff0c\u4e0d\u80fd\u901a\u8fc7\u7533\u8bf7\u6ce8\u518c",reg_login_now:'<a target="_blank" class="fac clk-quc-login" href="###">\u7acb\u5373\u767b\u5f55</a>'};var t=e.$,n=[],r=[],i=!0,s=!1,o=[],u=null,a="",f=!1,l=!1,c="",h=[],p="\u6b63\u5728\u6ce8\u518c\u4e2d\uff0c\u8bf7\u7a0d\u540e",d=null,v=null,m=null,g=null,y=[],b="1",w="",E={prevloginEmail:"",prevuserName:"",prevnickName:""},S=e.resConfig.requestScema,x=["asdasd","asdfgh","asdfghjkl","Iloveyou","qwerty","Password","Passwd","Woaini","Wodemima","Woaiwojia","zxcvbn","tamade","nimade","123abc","0123456","0123456789","100200","102030","121212","111222","115415","123000","123123","123789","12301230","123321","123456","1234560","123465","1234567","12345678","123456789","1234567890","123123123","1314520","1314521","147258369","147852369","159357","168168","201314","211314","321321","456456","4655321","521521","5201314","520520","741852","741852963","7758258","7758521","654321","852963","987654","963852741","000000","111111","11111111","112233","666666","888888","abcdef","abcabc","abc123","a1b2c3","aaa111","123qwe","qweasd","admin","password","p@ssword","passwd","iloveyou","1qaz2wsx","qwertyuiop","qq123456","1q2w3e4r","123456abc","abc123456","qazwsxedc","1q2w3e4r5t"];t.prototype.parent=t.prototype.parent||t.prototype.parentNode,t.prototype.bind=t.prototype.bind||t.prototype.on;var T={showErrs:function(e,n){return clearTimeout(v),this.inArray(o,e)==-1&&o.push(e),t(".icon-"+e).removeClass("icon-success").removeClass("icon-loading").addClass("icon-wrong").show(),t("#tips-"+e).html(n).removeClass("reg-tips-success").addClass("reg-tips-wrong").show(),!1},showCorrect:function(n,r){return this.reset(n),t(".icon-"+n).removeClass("icon-wrong").removeClass("icon-loading").addClass("icon-success").show(),w=="pop"?t("#tips-"+n).html(e.resConfig.regOpts.tipText["reg_default_"+n]).removeClass("reg-tips-wrong").addClass("reg-tips-success").show():t("#tips-"+n).hide(),!0},reset:function(n){o=e.removeFromArray(n,o),t(".tips-wrong-"+n).hide()},loadingFun:function(e){t(".icon-"+e).removeClass("icon-info").addClass("icon-loading"),t("#tips-"+e).hide()},loginEmail:function(n){n=n||"";var r=e.trim(t("#qucpspregForm")[0].loginEmail.value),i=QHDomain.login_http+"/index.php?op=checkemail&requestScema="+S+"&loginEmail="+r+"&r="+Math.random();E.prevloginEmail=r;if(!r)return this.showErrs("loginEmail",e.resConfig.regOpts.tipText.reg_wrong_loginEmail_empty);if(r&&!this.isEmail(r))return this.showErrs("loginEmail",e.resConfig.regOpts
.tipText.reg_wrong_loginEmail_format);r&&(n||(this.loadingFun("loginEmail"),e.loadJsonp(i,e.regUtils.loginEmailCallback)))},realName:function(){var n=e.trim(t("#qucpspregForm")[0].realName.value),r=/^[\u4e00-\u9fa5]{2,5}$/;return n?n&&!r.test(n)?this.showErrs("realName",e.resConfig.regOpts.tipText.reg_wrong_realName):this.showCorrect("realName",e.resConfig.regOpts.tipText.reg_default_realName):this.showErrs("realName",e.resConfig.regOpts.tipText.reg_wrong_realName_empty)},idCardNum:function(){function n(e,t){for(var n=0;n<t.length;n++)e=e.replace(t[n][0],t[n][1]);return e}function r(e){return n(e,[[/[\uff01-\uff5e]/g,function(e){return String.fromCharCode(e.charCodeAt(0)-65248)}],[/\u3000/g," "],[/\u3002/g,"."]])}var i=e.trim(t("#qucpspregForm")[0].idCardNum.value);i=r(i);var s=i=="";if(!!s)return this.showErrs("idCardNum",e.resConfig.regOpts.tipText.reg_wrong_idCardNum_empty);if(/^\d{15}$/.test(i))s=!0;else if(/^\d{17}[0-9xX]$/.test(i)){var o="1,0,x,9,8,7,6,5,4,3,2".split(","),u="7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2".split(","),a=i.toLowerCase().split(""),f=0;for(var l=0;l<17;l++)f+=u[l]*a[l];s=o[f%11]==a[17]}if(!s)return this.showErrs("idCardNum",e.resConfig.regOpts.tipText.reg_wrong_idCardNum);var c=i.substring(6,14),h=new Date,p=new Date(c.substring(0,4),c.substring(4,6),c.substring(6,8)),d=h-p,v=Math.round(d/31536e6);v<18?(s=!1,this.showErrs("idCardNum",e.resConfig.regOpts.tipText.reg_wrong_age_lt18)):s=!0,s&&this.showCorrect("idCardNum",e.resConfig.regOpts.tipText.reg_default_idCardNum)},regUsername:function(n){n=n||"";var r=e.trim(t("#qucpspregForm")[0].regUsername.value),i=e.byteLen(r),s=/^[0-9a-zA-Z\u4e00-\u9fa5_\.]*$/i,o=QHDomain.login_http+"/index.php?op=checkuser&requestScema="+S+"&userName="+encodeURIComponent(r)+"&r="+Math.random();E.prevUserName=r;if(!r)return this.showErrs("regUsername",e.resConfig.regOpts.tipText.reg_wrong_username_empty);if(0==s.test(r))return this.showErrs("regUsername",e.resConfig.regOpts.tipText.reg_wrong_username_chars);if(r&&i<2)return this.showErrs("regUsername",e.resConfig.regOpts.tipText.reg_wrong_username_short);if(r&&i>14)return this.showErrs("regUsername",e.resConfig.regOpts.tipText.reg_wrong_username_long);r&&(n||(this.loadingFun("regUsername"),e.loadJsonp(o,e.regUtils.checkUsernameCallback)))},nickname:function(n){n=n||"";var r=e.trim(t("#qucpspregForm")[0].nickname.value),i=e.byteLen(r),s=/^[0-9a-zA-Z\u4e00-\u9fa5_\.]*$/i,o=QHDomain.login_http+"/index.php?op=checknickname&requestScema="+S+"&nickName="+encodeURIComponent(r)+"&r="+Math.random();E.prevnickName=r;if(!r)return this.showErrs("nickname",e.resConfig.regOpts.tipText.reg_wrong_nickname_empty);if(0==s.test(r))return this.showErrs("nickname",e.resConfig.regOpts.tipText.reg_wrong_nickname_chars);if(r&&i<2)return this.showErrs("nickname",e.resConfig.regOpts.tipText.reg_wrong_nickname_short);if(r&&i>14)return this.showErrs("nickname",e.resConfig.regOpts.tipText.reg_wrong_nickname_long);r&&(n||(this.loadingFun("nickname"),e.loadJsonp(o,e.regUtils.checkNicknameCallback)))},phoneReg:function(n){n=n||"";var r=t("#qucpspregForm")[0].phoneReg.value,i=QHDomain.login_http+"/index.php?op=checkmobile&requestScema="+S+"&mobile="+encodeURIComponent(r)+"&r="+Math.random();regTel=/^(13|14|15|18|17)\d{9}$/;if(!r)return this.showErrs("phoneReg",e.resConfig.regOpts.tipText.reg_wrong_phoneNumber_empty);if(!regTel.test(r))return this.showErrs("phoneReg",e.resConfig.regOpts.tipText.reg_wrong_phoneNumber_format);r&&(n||(this.loadingFun("phoneReg"),e.loadJsonp(i,e.regUtils.checkPhoneCallback)))},checkPhoneCallback:function(n){if(0==n.errno)e.regUtils.showCorrect("phoneReg",n.errmsg),t("#getAuthcode")[0].disabled=!1;else if(n.errno==1037){var r=n.errmsg+" "+e.resConfig.regOpts.tipText.reg_login_now;t("#getAuthcode")[0].disabled=!0,e.regUtils.showErrs("phoneReg",r)}else e.regUtils.showErrs("phoneReg",n.errmsg)},authCode:function(){var n=t("#qucpspregForm")[0].authCode.value,r=/^\d{6}$/i;if(!n)return this.showErrs("authCode",e.resConfig.regOpts.tipText.reg_wrong_authCode_empty);if(!r.test(n))return this.showErrs("authCode",e.resConfig.regOpts.tipText.reg_wrong_format_authCode);if(n.length!=6)return this.showErrs("authCode",e.resConfig.regOpts.tipText.reg_wrong_default_authCode);this.reset("authCode"),t(".icon-authCode").removeClass("icon-wrong").removeClass("icon-success").addClass("icon-info"),t("#tips-authCode").html(e.resConfig.regOpts.tipText.reg_default_authCode).removeClass("reg-tips-wrong").addClass("reg-tips-success")},isEmail:function(e){if(e.length>100)return!1;if(!/^([\w\-\.]+)@(([0-9a-zA-Z\-]+\.)+[a-zA-Z]{2,4})$/i.test(e))return!1;var t=e.split("@"),n=t[1];return!0},loginEmailCallback:function(t){if(0==t.res)e.regUtils.showCorrect("loginEmail",t.msg);else if(t.errno==2e4)e.regUtils.showErrs("loginEmail",t.msg);else if(1==t.res){var n=t.msg+(b=="bind"?"":" "+e.resConfig.regOpts.tipText.reg_login_now);e.regUtils.showErrs("loginEmail",n)}else e.regUtils.showErrs("loginEmail",t.msg)},checkUsernameCallback:function(t){if(0==t.res)e.regUtils.showCorrect("regUsername",t.msg);else if(1==t.res&&t.errno==213){var n=t.msg+(b=="bind"?"":" "+e.resConfig.regOpts.tipText.reg_login_now);e.regUtils.showErrs("regUsername",n)}else e.regUtils.showErrs("regUsername",t.msg)},checkNicknameCallback:function(t){0==t.res?e.regUtils.showCorrect("nickname",t.msg):e.regUtils.showErrs("nickname",t.msg)},doRegSuccess:function(){m&&m();if(l){e.showSetName(u);return}if(f)e.getUserInfo(function(n){n=n||{},n.realName=t("#realName").val(),n.idCardNum=t("#idCardNum").val();if(n.qid>0){try{e.setloginStatus(n)}catch(r){}e.execCallback(u,n)}});else{var n={};n.realName=t("#realName").val(),n.idCardNum=t("#idCardNum").val();try{e.setloginStatus()}catch(r){}e.execCallback(u,n)}},rdCallback:function(t){if(t.errno>0){this.doRegSuccess();return}var i=r.length,s="";r[i++]=t.domain,i==n.length?(r=[],this.doRegSuccess()):(s=n[i]+"?o=sso&m=setcookie&requestScema="+S+"&func=QHPass.regUtils.rdCallback&s="+a,e.loadJsonp(s))},unique:function(e){var t=e.length,n=e.slice(0),r,i;while(--t>0){i=n[t],r=t;while(r--)if(i===n[r]){n.splice(t,1);break}}return n},inArray:function(e,t,n){var r=e.length,i=t;n|=0,n<0&&(n=Math.max(0,r+n));for(;n<r;n++)if(n in e&&e[n]===t)return n;return-1},getPassLevel:function(t){function n(e){e+="";var t=e.length,n=!0,r=e.charCodeAt(t-1)-e.charCodeAt(0)>0?1:-1;for(var i=0;i<t-1;i++)if(r!==e.charCodeAt(i+1)-e.charCodeAt(i))return n=!1,n;return n}t+="";var r=t.length,i=t.split(""),s=T.unique(i),o=s.length,u=-1;cflag=n(t);if(r<6||r>20)u=-1;else if(o==1)u=0;else if(cflag)u=1;else if(x.join("#").indexOf(t)>-1)u=2;else{var a={d:0,c:0,o:0};e.forEach(s,function(e,t){/\d/.test(e)?a.d=1:/[a-zA-Z]/.test(e)?a.c=1:a.o=1}),u=a.d+a.c+a.o+(r>9?2:1),u=u==2?u+1:u}return u},password:function(){var n="password",r=t("#qucpspregForm")[0].password[0].value,i=T.getPassLevel(r),s=/[^\x00-\xff]/,o=/^\s*$/,u=t("#qucpspregForm")[0].rePassword[0].value;if(!(r&&r.length>=6&&r.length<=20))return this.showErrs(n,e.resConfig.regOpts.tipText.reg_wrong_default_password);if(s.test(r))return u&&r!=u&&this.showErrs("rePassword",e.resConfig.regOpts.tipText.reg_wrong_default_rePassword),this.showErrs(n,e.resConfig.regOpts.tipText.reg_wrong_password_chinese);if(i<3){if(!r)return this.showErrs("password",e.resConfig.regOpts.tipText.reg_wrong_password_empty);if(o.test(r))return this.showErrs(n,e.resConfig.regOpts.tipText.reg_wrong_password_emptychars);i==0?this.showErrs(n,e.resConfig.regOpts.tipText.reg_wrong_password_same_chars):i==1?this.showErrs(n,e.resConfig.regOpts.tipText.reg_wrong_password_lx_chars):i==2?this.showErrs(n,e.resConfig.regOpts.tipText.reg_wrong_password_weaklevel):this.showErrs(n,e.resConfig.regOpts.tipText.reg_wrong_password_weaklevel),u&&r!=u&&this.showErrs("rePassword",e.resConfig.regOpts.tipText.reg_wrong_default_rePassword)}else this.showCorrect(n,e.resConfig.regOpts.tipText.reg_default_password),u&&r==u&&this.showCorrect("rePassword",e.resConfig.regOpts.tipText.reg_wrong_default_rePassword)},rePassword:function(){var n=t("#qucpspregForm")[0].password[0].value,r=/^\s*$/,i=t("#qucpspregForm")[0].rePassword[0].value;return i?r.test(i)?this.showErrs("rePassword",e.resConfig.regOpts.tipText.reg_wrong_repassword_emptyChars):n!=i?this.showErrs("rePassword",e.resConfig.regOpts.tipText.reg_wrong_default_rePassword):this.showCorrect("rePassword",e.resConfig.regOpts.tipText.reg_default_rePassword):this.showErrs("rePassword",e.resConfig.regOpts.tipText.reg_wrong_repassword_empty)},phrase:function(){if(!i)return;var n=e.trim(t("#qucpspregForm")[0].phrase.value);if(n.length!=4)return this.showErrs("phrase",e.resConfig.regOpts.tipText.reg_wrong_default_phrase);this.reset("phrase"),w=="pop"?(t(".icon-phrase").hide(),t("#tips-phrase").hide()):(t(".icon-phrase").removeClass("icon-wrong").removeClass("icon-success").addClass("icon-info"),t("#tips-phrase").html(e.resConfig.regOpts.tipText.reg_default_phrase).removeClass("reg-tips-wrong").addClass("reg-tips-success"))},beforeSubmit:function(){if(!t("#srcreg").val()&&b!="bind")return!1;e.forEach(t(".tipinput"),function(e){var t=e.getAttribute("id");T[t]("beck")});if(o.length>0)return!1;if(!t("#is_agree").attr("checked")&&b!="bind")return T.showGlobalTips(e.resConfig.regOpts.tipText.reg_wrong_isagree),!1;v=setTimeout(function(){T.showGlobalTips("\u8bf7\u6c42\u8d85\u65f6\uff0c\u8bf7\u5237\u65b0\u9875\u9762\u91cd\u8bd5\uff01")},2e4),T.beforeSetValue()},modifyTips:function(t){e.mix(e.resConfig.regOpts.tipText,t,!0)},initEvent:function(r,a){u=r,y=a.field||[],g=a.errorfun||"",m=a.successfun||"",h=a.notMustField||[],b=a.regway||"normal",w=a.type||"pop",t("#accoutType").val(b=="email"||b=="normal"?1:b=="phone"?2:4),o.length=0,i=a.captFlag==null?!0:a.captFlag,f=a.getInfoAfterReg||e.resConfig&&e.resConfig.getInfoAfterReg||!1,l=a.isSetname||!1,n=[];var c=a.src||e.resConfig&&e.resConfig.src||"";if(a.cookie_domains.length==2&&a.cookie_domains[1]=="nc"||a.cookie_domains[0]=="360")s=!0;else{var p=a.cookie_domains.length&&a.cookie_domains||[e._hostShort];e.forEach(p[0].split("|"),function(t){var r=e._hostShort2long[t];r&&n.push(S+"://login."+r)})}e.initFormByUrl("reg"),c&&t("#srcreg").val(c),t(".tipinput").focus(function(){var n=t(this).attr("id"),r="";n=="phrase"?t(this).parent().removeClass("verify-code").addClass("verify-code-focus"):n=="phoneReg"?t(this).parent().removeClass("input-phone-bg").addClass("input-phone-bg-focus"):t(this).parent().removeClass("input-bg").addClass("input-bg-focus");if(n=="nickname"||n=="regUsername"||n=="loginEmail")E["prev"+n]=t("#"+n).val();r=n=="password"||n=="rePassword"?t("#qucpspregForm")[0][n][0].value:t("#qucpspregForm")[0][n].value,r||(w!="pop"?t(".icon-"+n).removeClass("icon-wrong").addClass("icon-info").show():t(".icon-"+n).removeClass("icon-wrong").addClass("icon-info").hide(),t("#tips-"+n).html(e.resConfig.regOpts.tipText["reg_default_"+n]).show().removeClass("reg-tips-wrong"))}).blur(function(){var n=t(this).attr("id"),r=n=="password"||n=="rePassword"?t("#qucpspregForm")[0][n][0].value:t("#qucpspregForm")[0][n].value;empty=/^\s*$/,n=="phrase"?t(this).parent().removeClass("verify-code-focus").addClass("verify-code"):n=="phoneReg"?t(this).parent().removeClass("input-phone-bg-focus").addClass("input-phone-bg"):t(this).parent().removeClass("input-bg-focus").addClass("input-bg");if(!r){n=="loginEmail"?t("#tips-"+n).addClass("reg-tips-wrong").show():t("#tips-"+n).html(e.resConfig.regOpts.tipText["reg_wrong_default_"+n]).addClass("reg-tips-wrong").show(),t(".icon-"+n).removeClass("icon-info").removeClass("icon-success").addClass("icon-wrong").show();return}if((n=="nickname"||n=="regUsername"||n=="loginEmail")&&E["prev"+n]==t("#"+n).val())return;T[n]()}),t("#password").bind("keyup",function(n){t("#tips-password").html(e.resConfig.regOpts.tipText.reg_default_password).removeClass("reg-tips-wrong");if(t(this).val()){var r=parseInt(T.getPassLevel(t(this).val()));if(r==-1)return T.showErrs("password",e.resConfig.regOpts.tipText.reg_wrong_default_password);r<3?(r=2,t("#tips-password").html('<span class="level2">\u5f31\uff1a</span>\u8bd5\u8bd5\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u6807\u70b9\u7b26\u53f7'),w!="pop"&&t(".icon-password").removeClass("icon-wrong").addClass("icon-info")):r==3?(t("#tips-password").html('<span class="level3">\u4e2d\uff1a</span>\u8bd5\u8bd5\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u6807\u70b9\u7b26\u53f7'),w!="pop"&&t(".icon-password").removeClass("icon-wrong").addClass("icon-info")):r>=4&&(t("#tips-password").html('<span class="level4">\u5f3a\uff1a</span>\u8bf7\u7262\u8bb0\u4f60\u7684\u5bc6\u7801'),w!="pop"&&t(".icon-password").removeClass("icon-wrong").addClass("icon-info"))}}),t("#phraseLi")[i?"show":"hide"](),t("#captchaFlag").val(+i),t("#wm,#refreshCaptcha").click(function(n){e.preventDefault(n),e.refreshCaptcha(),t("#phrase").val("").focus()}),e.bindGetcode(".btn-auth-code")},beforeSetValue:function(){if(b=="normal"||b=="email"){var n=t("#loginEmail");t("#loginEmail").val(e.trim(n.val()))}else if(b=="name"){var r=t("#regUsername");r.val(e.trim(r.val()))}var i=t("#topassword"),s=t("#torePassword");i.val(hex_md5(t("#password").val())),s.val(hex_md5(t("#rePassword").val())),typeof vcTime!="undefined"&&t("#vc").val(vcTime),t("#regGlobal_tips").hide(),t("#regSubmitBtn").removeClass("btn-register").addClass("btn-register-loading").val("\u63d0\u4ea4\u4e2d...")},showGlobalTips:function(e){clearTimeout(v);var n=b=="bind"?"\u63d0\u4ea4":"\u7acb\u5373\u6ce8\u518c";t("#regSubmitBtn").removeClass("btn-register-loading").addClass("btn-register").val(n),t("#regGlobal_tips").html(e).show()},submitCallback:function(r){try{if(r.errno==0)if(r.activeurl)if(w=="pop"){var o=decodeURIComponent(r.activeurl)+"&destUrl="+encodeURIComponent(location.href),f=t("#qucpspregForm")[0].loginEmail.value,l=f.substring(0,f.indexOf("@")),h=f.substring(f.indexOf("@"));c=o,e.loadJsonp(c,function(n){e.closePop&&e.closePop(),e.addPop("100","408","login"),e.resizeAndshow("100","408"),t("#qucPanelTitle").html("\u6d88\u606f\u63d0\u793a");try{t(".pop-dia-close").click(function(t){e.closePop&&e.closePop(),e.preventDefault(t)})}catch(r){}n.errno==0?(t("#modQiUserPop").html(e.tpl.activeTpl),t(".set-active-result").show(),e.byteLen(f)>20?t("#secactiveverify").html(l.replace(/(\w)\w+(\w)/ig,"$1******$2")+h):f&&t("#secactiveverify").html(f),n.goToMail?t("#qucgoactive").attr("href",n.goToMail):t(".go-sec-mail").hide(),t("#click_resendMail").on("click",function(n){e.loadJsonp(c,function(e){e.errno==0?(t("#resendmail_result").show(),setTimeout(function(){t("#resendmail_result").hide()},3e3)):t("#modQiUserPop").html('<div style="padding:40px;font-size:14px"><p>'+e.errmsg+"</p></div>")}),e.preventDefault(n)})):(t("#modQiUserPop").html('<div style="padding:40px;font-size:14px"><p>'+n.errmsg+',<a href="#"  class="fac"  id="click_resendMail" target="_blank">\u70b9\u6b64\u91cd\u53d1\u4e00\u5c01</a></p></div>'),t("#click_resendMail").on("click",function(n){e.loadJsonp(c,function(e){e.errno==0?(t("#resendmail_result").show(),setTimeout(function(){t("#resendmail_result").hide()},3e3)):t("#modQiUserPop").html('<div style="padding:40px;font-size:14px"><p>'+e.errmsg+',<a href="#"  class="fac"  id="click_resendMail" target="_blank">\u70b9\u6b64\u91cd\u53d1\u4e00\u5c01</a></p></div>')}),e.preventDefault(n)}))})}else location.href=decodeURIComponent(r.activeurl)+"&destUrl="+encodeURIComponent(location.href);else{var p="",d=t("#qucpspregForm")[0];if(b!="email"&&b!="normal"||!d.loginEmail){if(b=="phone"&&d.phoneReg)p=e.trim(d.phoneReg.value);else if(b=="name"&&d.regUsername)p=e.trim(d.regUsername.value);else if(b=="bind"){e.autoLogin(u),e.closePop&&e.closePop();return}}else p=e.trim(d.loginEmail.value);p==""&&d.regUsername&&(p=e.trim(d.regUsername.value)),e.Cookie.set("i360loginName",p,{expires:5184e6,path:"/"}),a=r.rd;if(a&&!s){var m=n.length,y=0,E=n[y]+"?o=sso&m=setcookie&requestScema="+S+"&func=QHPass.regUtils.rdCallback&s="+a;e.loadJsonp(E)}else this.doRegSuccess()}else{g&&g(r),clearTimeout(v);var x=b=="bind"?"\u63d0\u4ea4":"\u7acb\u5373\u6ce8\u518c";t("#regSubmitBtn").removeClass("btn-register-loading").addClass("btn-register").val(x),t("#regGlobal_tips").hide();if(r.errno==-2)return t("#phrase").focus(),e.refreshCaptcha(),this.showErrs("phrase",e.resConfig.regOpts.tipText.reg_wrong_phrase_input);if(r.errno==-3)return t("#phrase").focus(),e.refreshCaptcha(),this.showErrs("phrase",e.resConfig.regOpts.tipText.reg_wrong_phrase_ban);if(r.errno==1670)i=!0,t("#phraseLi").show(),e.refreshCaptcha(),t("#phrase").focus();else{if(r.errno==1351)return t("#authCode").focus(),e.refreshCaptcha(),this.showErrs("authCode",decodeURIComponent(r.errmsg));if(r.errmsg.indexOf("\u5bc6\u7801")!=-1)return this.showErrs("password",decodeURIComponent(r.errmsg));T.showGlobalTips(decodeURIComponent(r.errmsg));try{e.refreshCaptcha(),t("#phrase").val("")}catch(N){}}}}catch(N){T.showGlobalTips(e.resConfig.regOpts.tipText.reg_wrong_process_error)}}};e.getPassLevel=function(e){return T.getPassLevel(e)},e.regUtils=T}(QHPass),QHPass.tpl.regTpl={formStart:['<div id="modRegWrap" class="mod-qiuser-pop">','<iframe src="" name ="qucpspregIframe" style="display:none"></iframe>','<form id="qucpspregForm" method="post" name="qucpspregForm" target="qucpspregIframe" onsubmit="return QHPass.regUtils.beforeSubmit()" action='+QHDomain.i360+"/reg/doregAccount >",'<dl class="reg-wrap">','<dt><span id="qucRegGuide"></span><div id="regGlobal_tips" class="reg-global-error reg-global-success reg-global-loading"></div></dt>'].join(""),loginEmail:["<dd>",'<div class="quc-clearfix reg-item" >','<label for="loginEmail">\u90ae\u7bb1</label>','<span class="input-bg"><input type="text"  id="loginEmail"  name="account" maxlength="100" autocomplete="off" class="ipt tipinput"/></span>','<b class="icon-loginEmail"></b>',"</div>",'<span id="tips-loginEmail" class="text-tips tips-loginEmail">\u8bf7\u8f93\u5165\u60a8\u7684\u5e38\u7528\u90ae\u7bb1\uff0c<a target="_blank" class="fac" href="http://reg.email.163.com/mailregAll/reg0.jsp"> \u6ca1\u6709\u90ae\u7bb1\uff1f</a></span>',"</dd>"].join(""),nickname:["<dd>",'<div class="quc-clearfix reg-item" >','<label for="nickname">\u6635\u79f0</label>','<span class="input-bg"><input type="text"  id="nickname"  name="nickName" maxlength="14" autocomplete="off" class="ipt tipinput"/></span>','<b class="icon-nickname"></b>',"</div>",'<span id="tips-nickname" class="text-tips tips-nickname">2-14\u4e2a\u5b57\u7b26\uff1a\u82f1\u6587\u3001\u6570\u5b57\u6216\u4e2d\u6587</span>',"</dd>"].join(""),idCardNum:["<dd>",'<div class="quc-clearfix reg-item" >','<label for="idCardNum">\u8eab\u4efd\u8bc1\u53f7</label>','<span class="input-bg"><input type="text"  id="idCardNum"   maxlength="100" autocomplete="off" class="ipt tipinput"/></span>','<b class="icon-idCardNum"></b>',"</div>",'<span id="tips-idCardNum" class="text-tips tips-idCardNum">\u8bf7\u8f93\u5165\u6709\u6548\u7684\u8eab\u4efd\u8bc1\u53f7\u7801</span>',"</dd>"].join(""),realName:["<dd>",'<div class="quc-clearfix reg-item" >','<label for="realName">\u771f\u5b9e\u59d3\u540d</label>','<span class="input-bg"><input type="text"  id="realName"   maxlength="100" autocomplete="off" class="ipt tipinput"/></span>','<b class="icon-realName"></b>',"</div>",'<span id="tips-realName" class="text-tips tips-realName">\u8bf7\u8f93\u5165\u6709\u6548\u7684\u771f\u5b9e\u59d3\u540d</span>',"</dd>"].join(""),phone:['<dd class="phone">','<div class="quc-clearfix reg-item" >','<label for="phoneReg">\u624b\u673a\u53f7</label>','<span class="input-phone-bg"><input type="text"  id="phoneReg"  name="account" maxlength="11" autocomplete="off" class="ipt tipinput"/></span>','<input id="getAuthcode" onfocus="this.blur()" class="auth-code btn-auth-code" value="\u514d\u8d39\u83b7\u53d6\u6821\u9a8c\u7801" />','<b class="icon-phoneReg"></b>',"</div>",'<span id="tips-phoneReg" class="text-tips tips-phoneReg">\u8bf7\u8f93\u5165\u60a8\u7684\u624b\u673a\u53f7</span>','<div class="btn-authcode">','<a class="ques-link" target="_blank" href="http://i.360.cn/help/smscode">\u6821\u9a8c\u7801\u5e38\u89c1\u95ee\u9898</a>',"</div>","</dd>"].join(""),authCode:["<dd>",'<div class="quc-clearfix reg-item" >','<label for="authCode">\u6821\u9a8c\u7801</label>','<span class="input-bg"><input type="text" id="authCode" name="smscode" maxlength="6" autocomplete="off"  class="ipt tipinput "></span>','<b class="icon-authCode"></b>',"</div>",'<span id="tips-authCode" class="text-tips tips-authCode">\u8bf7\u8f93\u5165\u77ed\u4fe1\u4e2d6\u4f4d\u6570\u5b57\u6821\u9a8c\u7801</span>',"</dd>"].join(""),regUsername:["<dd>",'<div class="quc-clearfix reg-item">','<label for="regUsername">\u7528\u6237\u540d</label>','<span class="input-bg"><input type="text"  maxlength="14" id="regUsername" name="userName" autocomplete="off" class="ipt tipinput"/></span>','<b class="icon-regUsername"></b>',"</div>",'<span id="tips-regUsername" class="text-tips tips-regUsername">2-14\u4e2a\u5b57\u7b26\uff1a\u82f1\u6587\u3001\u6570\u5b57\u6216\u4e2d\u6587</span>',"</dd>"].join(""),password:["<dd>",'<div class="quc-clearfix reg-item">','<label for="password">\u5bc6\u7801</label>','<span class="input-bg"><input type="password"   id="password"  autocomplete="off" class="ipt tipinput"/></span>','<b class="icon-password"></b>',"</div>",'<span id="tips-password" class="text-tips tips-password">6-20\u4e2a\u5b57\u7b26\uff0c\u533a\u5206\u5927\u5c0f\u5199</span>',"</dd>"].join(""),rePassword:["<dd>",'<div class="quc-clearfix reg-item">','<label for="rePassword">\u786e\u8ba4\u5bc6\u7801</label>','<span class="input-bg"><input type="password" id="rePassword" autocomplete="off" class="ipt tipinput"/></span>','<b class="icon-rePassword "></b>',"</div>",'<span id="tips-rePassword" class="text-tips tips-rePassword">\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801</span>',"</dd>"].join(""),phrase:['<dd class="rem" id="phraseLi" >','<label for="phrase">\u9a8c\u8bc1\u7801</label>','<span class="verify-code"><input type="text"  maxlength="4" id="phrase" name="phrase" class="ipt1 tipinput" autocomplete="off"></span>','<span class="yz"><img width="99" height="35" style="cursor: pointer;" id="wm"><a  class="fac ml8" href="#nogo" id="refreshCaptcha">\u6362\u4e00\u5f20</a>','</span><b class="icon-phrase"></b>','<p class="phrase-tips"><span id="tips-phrase" class="tips-phrase">\u8bf7\u8f93\u5165\u56fe\u4e2d\u7684\u5b57\u6bcd\u6216\u6570\u5b57\uff0c\u4e0d\u533a\u5206\u5927\u5c0f\u5199</span></p>',"</dd>"].join(""),formEnd:['<dd class="submit">','<input type="submit" onfocus="this.blur()" text="\u7acb\u5373\u6ce8\u518c" id="regSubmitBtn" value="\u7acb\u5373\u6ce8\u518c" class="btn-register quc-psp-gstat">',"</dd>",'<dd class="rules">','<label style="" for="is_agree">','<input type="checkbox" name="is_agree" id="is_agree" tabindex="5" checked="checked" value="1">\u6211\u5df2\u7ecf\u9605\u8bfb\u5e76\u540c\u610f</label>','<a href="http://i.360.cn/pub/protocol.html" class="fac" target="_blank">\u300a360\u7528\u6237\u670d\u52a1\u6761\u6b3e\u300b</a>',"</dd>","</dl>",'<input id="srcreg" type="hidden" value="" name="src">','<input id="loginEmailActiveFlag" type="hidden" value="0" name="loginEmailActiveFlag">','<input id="pageType" type="hidden" value="utf-8" name="charset">','<input id="accoutType" type="hidden" value="" name="acctype">','<input id="pwdmethod" type="hidden" value="1" name="pwdmethod">','<input name="requestScema" value="'+QHPass.resConfig.requestScema+'" type="hidden" />'+'<input id="proxy" type="hidden" value="'+QHPass.resConfig.requestScema+"://"+location.host+'/psp_jump.html" name="proxy">','<input id="topassword" type="hidden" value="" name="password">','<input id="torePassword" type="hidden" value="" name="rePassword">','<input id="callback" type="hidden" value="parent.QHPass.regUtils.submitCallback" name="callback">','<input id="captchaFlag" type="hidden" value="1" name="captchaFlag">','<input id="captchaAppId" type="hidden" value="i360" name="captchaAppId">',"</form></div>"].join(""),formBindEnd:['<dd class="submit">','<input type="submit" onfocus="this.blur()" text="bind\u63d0\u4ea4" id="regSubmitBtn" value="\u63d0\u4ea4" class="btn-register quc-psp-gstat">',"</dd>",'<dd class="rules">','<input id="proxy" type="hidden" value="'+QHPass.resConfig.requestScema+"://"+location.host+'/psp_jump.html" name="proxy">','<input id="topassword" type="hidden" value="" name="password">','<input name="requestScema" value="'+QHPass.resConfig.requestScema+'" type="hidden" />'+'<input id="torePassword" type="hidden" value="" name="rePassword">','<input id="callback" type="hidden" value="parent.QHPass.regUtils.submitCallback" name="callback">','<input id="qucPopcrumb" type="hidden" value="" name="crumb"></dd></dl>',"</form></div>"].join("")},QHPass.tpl.activeTpl='<div class="set-active-result" id="setactiveResult"><p>\u9a8c\u8bc1\u90ae\u4ef6\u5df2\u7ecf\u53d1\u9001\u5230<span class="active-tips" id="secactiveverify"></span></p><p>\u4f60\u9700\u8981\u70b9\u51fb\u90ae\u7bb1\u4e2d\u7684\u786e\u8ba4\u94fe\u63a5\u6765\u5b8c\u6210</p><p class="go-sec-mail"><a  href="#" class="fac"  id="qucgoactive" target="_blank">\u7acb\u5373\u8fdb\u5165\u90ae\u7bb1</a></p><p class="result-title">\u6ca1\u6709\u6536\u5230\u786e\u8ba4\u94fe\u63a5\u600e\u4e48\u529e\uff1f</p><p>1.\u770b\u770b\u662f\u5426\u5728\u90ae\u7bb1\u7684\u56de\u6536\u7ad9\u4e2d\uff0c\u5783\u573e\u90ae\u7bb1\u4e2d</p><p>2.\u786e\u8ba4\u6ca1\u6709\u6536\u5230\uff0c<a href="#"  class="fac"  id="click_resendMail" target="_blank">\u70b9\u6b64\u91cd\u53d1\u4e00\u5c01</a><span class="resend-result" id="resendmail_result">\u53d1\u9001\u6210\u529f\uff01</span></p></div>',QHPass.tpl.temp={normalLogin:"",emailReg:"",nameReg:"",phoneReg:"",bindReg:""},function(e){var t=e.$,n=QHDomain.captchaUrl,r=e.resConfig.requestScema;e.showSetName=function(n,r){r=r||{},e.cssLoadOnce&&e.cssLoadOnce(),e.mix(r,e.resConfig.namedOpts||{});var i=r.title||e.resConfig.setNameTitle||"\u8bbe\u7f6e\u7528\u6237\u540d",s=r.width||408,o=r.height||200,u=r.type||"pop",a=r.wrap,f=r.css||e.resConfig&&e.resConfig.css||"",l=r.afterRender||e.resConfig&&e.resConfig.namedOpts&&e.resConfig.namedOpts.afterRender,c=r.notRequest||!1;f&&e.loadCss(f);if(c){if(u=="pop")e.closePop&&e.closePop(),e.addPop(o,s,"username"),t("#modQiUserPop").html(e.tpl.unameTpl);else{if(!a)return;t("#"+a).append(e.tpl.unameTpl)}i&&t("#qucPanelTitle").html(i),e.resConfig&&e.resConfig.postCharset&&t(".mod-qiuser-pop input[id=pageType]").val(e.resConfig.postCharset),l&&l(),u=="pop"&&e.resizeAndshow(o,s),e.userNameUtils.initEvent(n,r)}else e.getUserInfo(function(f){r.crumb=f.crumb;if(f.type=="bind"||!(!f.userName||f.userName.indexOf("360U")>-1)){e.execCallback(n,f);return}u=="pop"?(e.closePop&&e.closePop(),e.addPop&&e.addPop(o,s,"username"),t("#modQiUserPop").html(e.tpl.unameTpl),t(".mod-qiuser-pop").css({height:o+"px"})):t("#"+a).append(e.tpl.unameTpl),e.resConfig&&e.resConfig.postCharset&&t(".mod-qiuser-pop input[id=pageType]").val(e.resConfig.postCharset),i&&t("#qucPanelTitle").html(i),l&&l(),u=="pop"&&e.resizeAndshow(o,s),e.userNameUtils.initEvent(n,r)})}}(QHPass),function(e){e.userNameUtils=function(){function t(e,t){return t&&l("#qucUnameTips").hide(),l("#userNameSuggest").addClass("uname-tips-wrong").html(e).show(),!1}function n(){var n=l("#pspUserName").val(),r=e.byteLen(n);return r<2?t(E,!0):r>14?t(x,!0):p.test(n)?t(S,!0):h.test(n)?d.test(n)?t(w,!0):!0:t(T,!0)}function r(e){l("#pspUserName").val(e.value)}function i(t){t.errno==0?(m&&m(),e.resConfig.loginAfterSetName=!1,e.clearUinfo(),typeof v=="string"?location.href=v:typeof v=="boolean"?window.location.reload(v):e.getUserInfo(function(t){try{e.setloginStatus(t)}catch(n){}t.type!="bind"&&t.userName&&t.userName.indexOf("360U")==-1&&v&&v(t)})):(g&&g(),e.userNameUtils.showErr(decodeURIComponent(t.errmsg)),setTimeout(function(){window.parent.location.reload(!0)},2e3))}function s(){e.resConfig.loginAfterSetName=!1,typeof v=="string"?location.href=v:typeof v=="boolean"?window.location.reload(v):e.getUserInfo(function(t){try{e.setloginStatus(t)}catch(n){}})}function o(t){if(t.errno==0)if(e._hostCurr){var n=b+"://login."+e._hostCurr;e.loadJsonp(n+"/?o=sso&m=updateCookie&requestScema="+b+"&key="+t.key,e.userNameUtils.setUserNameSuccess)}else v&&v();else t.errno==1051||t.errno==197||t.errno==1050?(e.userNameUtils.showErr(decodeURIComponent(t.errmsg)),setTimeout(function(){window.parent.location.reload(!0)},2e3)):(l("#btn-submitName")[0].disabled=!0,e.userNameUtils.showErr(decodeURIComponent(t.errmsg)));l("#btn-submitName")[0].disabled=!1}function u(e){var t=l("#pspUserName").val();if(1==e.res){l("#qucUnameTips").hide();var n=e.userinfo?e.userinfo.length:0;if(n>=1){var r='<h4 class="recommend-username">\u7528\u6237\u540d\u5df2\u7ecf\u88ab\u5360\u7528\uff0c\u6211\u4eec\u4e3a\u60a8\u63a8\u8350\u4ee5\u4e0b\u7528\u6237\u540d\uff1a</h4>';for(var i=0;i<n;i++)r+='<label for="user'+i+'"><input type="radio" name="usernames" id="user'+i+'" value="'+e.userinfo[i]+'" onclick="QHPass.userNameUtils.getUserName(this)" >'+e.userinfo[i]+"</label>",i%2&&(r+="<br/>");l("#userNameSuggest").html(r).show()}else l("#userNameSuggest").html(decodeURIComponent(e.msg)).addClass("recommend-username");l("#btn-submitName")[0].disabled=!1}else document.qucPspSetUserName.submit()}function a(n,r){r=r||{},g=r.errorfun||"",m=r.successfun||"",v=n,r.crumb?l("#qucCrumb").val(r.crumb):e.getUserInfo(function(e){e.qid&&l("#qucCrumb").val(e.crumb)}),l("#pspUserName").focus(function(){l(this).parent().addClass("input-bg-focus")}).blur(function(){l(this).parent().removeClass("input-bg-focus")}),l("#pspUserName").on("keyup",function(){var n=l(this).val(),r=e.byteLen(n);r>14?t(x,!0):l("#userNameSuggest").removeClass("recommend-username").html("")}),l(".pop-dia-close").click(function(t){e._hostCurr?s():e.closePop&&e.closePop(),e.preventDefault(t)}),e.initPlaceHolders()}function f(){if(n()){l("#btn-submitName")[0].disabled=!0;var t=l("#pspUserName").val();e.loadJsonp(y+"&requestScema="+b+"&userName="+encodeURIComponent(t)+"&time="+Math.random(),e.userNameUtils.checkUsernameBack)}}var l=e.$,c=[],h=/^[0-9a-zA-Z\u4e00-\u9fa5_\.]*$/i,p=/^\d*$/i,d=/^360U/i,v=null,m=null,g=null,y=QHDomain.login_http+"/index.php?op=checkuser",b=e.resConfig.requestScema,w="\u7528\u6237\u540d\u4e0d\u80fd\u4ee5 360U \u5f00\u5934",E="\u7528\u6237\u540d\u6700\u5c11\u4f7f\u75282\u4e2a\u5b57\u7b26",S="\u7528\u6237\u540d\u4e0d\u80fd\u5168\u90e8\u662f\u6570\u5b57",x="\u7528\u6237\u540d\u4e0d\u8d85\u8fc77\u4e2a\u6c49\u5b57\u621614\u4e2a\u5b57\u7b26",T="\u7528\u6237\u540d\u4ec5\u80fd\u5305\u542b\u4e2d\u82f1\u6587\u3001\u6570\u5b57\u3001\u201c_\u201d\u6216\u201c.\u201d",N="\u90ae\u7bb1\u4e0d\u80fd\u4e3a\u7a7a",C="\u90ae\u7bb1\u683c\u5f0f\u4e0d\u5408\u6cd5",k="\u786e\u8ba4\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a",L="\u4e24\u6b21\u8f93\u5165\u5bc6\u7801\u4e0d\u4e00\u81f4\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165";return{initEvent:a,showErr:t,checkUsernameBack:u,submitCallback:o,getUserName:r,submit:f,setUserNameSuccess:i}}()}(QHPass),QHPass.tpl.unameTpl='<div class="mod-set-username mod-qiuser-pop"><iframe style="display:none" name="setUsernameiframe"></iframe><form  method="post" onsubmit="QHPass.userNameUtils.submit();return false;" action='+QHDomain.i360+'/profile/dochusername id="qucPspSetUserName" name="qucPspSetUserName" target="setUsernameiframe" >'+"<ul>"+'<li class="msg-tit-tips">'+'<span class="uname-tips global-tips"  id="userNameResultTips"></span>'+"</li>"+'<li class="uname-input">'+'<span class="input-bg"><input type="text" name="userName" class="ipt" placeholder="\u8bf7\u8f93\u5165\u60a8\u7684\u7528\u6237\u540d" id="pspUserName" /></span><input type="submit" value="" id="btn-submitName" class="submit-setuname-btn"/>'+"</li>"+'<li id="qucUnameTips" class="uname-tips">\u7528\u6237\u540d\u662f360\u8eab\u4efd\u5c55\u793a\uff0c\u4e00\u7ecf\u786e\u8ba4\uff0c\u4e0d\u53ef\u4fee\u6539</li>'+'<li class="suggest-username">'+'<div  class="uname-tips" id="userNameSuggest"></div></li>'+"<li>"+'<input id="qucCrumb" name="crumb"  type="hidden" />'+'<input name="requestScema" value="'+QHPass.resConfig.requestScema+'" type="hidden">'+'<input id="pageType" name="charset" value="gbk"  type="hidden" />'+'<input id="jump_url" name="proxy" type="hidden"  value="'+QHPass.resConfig.requestScema+"://"+location.host+'/psp_jump.html" />'+'<input id="callback" name="callback" value="parent.QHPass.userNameUtils.submitCallback"  type="hidden"  />'+"</li>"+"</ul>"+"</form>"+"</div> ",function(e){var t=e.$,n=e.resConfig.requestScema;e.showSetNickname=function(n,r){r=r||{},e.cssLoadOnce&&e.cssLoadOnce(),e.mix(r,e.resConfig.nicknamedOpts||{});var i=r.title||"\u8bbe\u7f6e\u6635\u79f0",s=r.width||408,o=r.height||170,u=r.type||"pop",a=r.wrap,f=r.css||e.resConfig&&e.resConfig.css||"",l=r.afterRender||e.resConfig&&e.resConfig.nicknameOpts&&e.resConfig.nicknameOpts.afterRender;f&&e.loadCss(f),e.getUserInfo
(function(f){r.crumb=f.crumb,u=="pop"?(e.closePop&&e.closePop(),e.addPop&&e.addPop(o,s,"nickname"),t("#modQiUserPop").html(e.tpl.nicknameTpl),t(".mod-qiuser-pop").css({height:o+"px"})):t("#"+a).append(e.tpl.nicknameTpl),f.nickname&&(t("#pspNickName").val(f.nickname),i="\u4fee\u6539\u6635\u79f0"),e.resConfig&&e.resConfig.postCharset&&t(".mod-qiuser-pop input[id=pageType]").val(e.resConfig.postCharset),i&&t("#qucPanelTitle").html(i),l&&l(),u=="pop"&&e.resizeAndshow(o,s),e.nicknameUtils.initEvent(n,r)})}}(QHPass),function(e){e.nicknameUtils=function(){function t(e,t){return t&&f("#qucUnameTips").hide(),f("#nickNameSuggest").addClass("uname-tips-wrong").html(e).show(),!1}function n(){var n=f("#pspNickName").val(),r=e.byteLen(n);return r<2?t(w,!0):r>14?t(S,!0):h.test(n)?t(E,!0):c.test(n)?p.test(n)?t(b,!0):!0:t(x,!0)}function r(e){f("#pspNickName").val(e.value)}function i(t){v&&v(),e.clearUinfo(),typeof d=="string"?location.href=d:typeof d=="boolean"?window.location.reload(d):(e.closePop&&e.closePop(),d&&d(t))}function s(t){f("#btn-submitName")[0].disabled=!1,t.errno=="0"?i(t):t.errno==1051||t.errno==197||t.errno==1050?(e.nicknameUtils.showErr(decodeURIComponent(t.errmsg)),setTimeout(function(){window.parent.location.reload(!0)},2e3)):(f("#btn-submitName")[0].disabled=!0,e.nicknameUtils.showErr(decodeURIComponent(t.errmsg)))}function o(e){var t=f("#pspNickName").val();if(e.res==1){f("#qucUnameTips").hide();var n=e.userinfo?e.userinfo.length:0;if(n>=1){var r='<h4 class="recommend-username">\u6635\u79f0\u5df2\u7ecf\u88ab\u5360\u7528\uff0c\u6211\u4eec\u4e3a\u60a8\u63a8\u8350\u4ee5\u4e0b\u6635\u79f0\uff1a</h4>';for(var i=0;i<n;i++)r+='<label for="user'+i+'"><input type="radio" name="_nickname" id="user'+i+'" value="'+e.userinfo[i]+'" onclick="QHPass.nicknameUtils.getNickName(this)" >'+e.userinfo[i]+"</label>",i%2&&(r+="<br/>");f("#nickNameSuggest").html(r).show()}else f("#nickNameSuggest").html(decodeURIComponent(e.msg)).addClass("recommend-username");f("#btn-submitName")[0].disabled=!1}else{var s=document.qucPspSetNickName,o=location.hostname.split("."),u=o.length,a=o.slice(u-2,u).join(".");s.action=y+"://login."+a,s.submit()}}function u(n,r){r=r||{},m=r.errorfun||"",v=r.successfun||"",d=n,r.crumb?f("#qucCrumb").val(r.crumb):e.getUserInfo(function(e){e.qid&&f("#qucCrumb").val(e.crumb)}),f("#pspNickName").focus(function(){f(this).parent().addClass("input-bg-focus")}).blur(function(){f(this).parent().removeClass("input-bg-focus")}),f("#pspNickName").on("keyup",function(n){var r=f(this).val(),i=e.byteLen(r);i>14?t(S,!0):f("#nickNameSuggest").removeClass("recommend-username").html("")}),f(".pop-dia-close").click(function(t){e.closePop&&e.closePop(),e.preventDefault(t)}),e.initPlaceHolders()}function a(){if(n()){f("#btn-submitName")[0].disabled=!0;var t=f("#pspNickName").val();e.loadJsonp(g+"&requestScema="+y+"&nickName="+encodeURIComponent(t)+"&time="+Math.random(),e.nicknameUtils.checkNicknameBack)}}var f=e.$,l=[],c=/^[0-9a-zA-Z\u4e00-\u9fa5_\.]*$/i,h=/^\d*$/i,p=/^360U/i,d=null,v=null,m=null,g=QHDomain.login_http+"/?op=checknickname",y=e.resConfig.requestScema,b="\u6635\u79f0\u4e0d\u80fd\u4ee5 360U \u5f00\u5934",w="\u6635\u79f0\u6700\u5c11\u4f7f\u75282\u4e2a\u5b57\u7b26",E="\u6635\u79f0\u4e0d\u80fd\u5168\u90e8\u662f\u6570\u5b57",S="\u6635\u79f0\u4e0d\u8d85\u8fc77\u4e2a\u6c49\u5b57\u621614\u4e2a\u5b57\u7b26",x="\u6635\u79f0\u4ec5\u80fd\u5305\u542b\u4e2d\u82f1\u6587\u3001\u6570\u5b57\u3001\u201c_\u201d\u6216\u201c.\u201d";return{initEvent:u,showErr:t,checkNicknameBack:o,submitCallback:s,getNickName:r,submit:a,setNickNameSuccess:i}}()}(QHPass),QHPass.tpl.nicknameTpl='<div class="mod-set-username mod-qiuser-pop"><iframe style="display:none" name="nicknameIframe"></iframe><form  method="post" onsubmit="QHPass.nicknameUtils.submit();return false;" action="" id="qucPspSetNickName" name="qucPspSetNickName" target="nicknameIframe" ><ul><li class="msg-tit-tips" style="height:20px"><span id="nickNameResultTips"></span></li><li class="uname-input"><span class="input-bg"><input type="text" name="nickName" class="ipt" placeholder="\u8bf7\u8f93\u5165\u6635\u79f0" id="pspNickName" /></span><input type="submit" value="" id="btn-submitName" class="submit-setuname-btn"/></li><li class="suggest-username"><div  class="uname-tips" id="nickNameSuggest"></div></li><li><input id="qucCrumb" name="crumb"  type="hidden" /><input name="requestScema" value="'+QHPass.resConfig.requestScema+'" type="hidden">'+'<input id="pageType" name="charset" value="gbk"  type="hidden" />'+'<input name="o" value="User"  type="hidden" />'+'<input name="m" value="modifyNickName"  type="hidden" />'+'<input id="jump_url" name="proxy" type="hidden"  value="'+QHPass.resConfig.requestScema+"://"+location.host+'/psp_jump.html" />'+'<input id="callback" name="callback" value="parent.QHPass.nicknameUtils.submitCallback"  type="hidden"  />'+"</li>"+"</ul>"+"</form>"+"</div> ",function(e){var t=e.$,n=QHDomain.captchaUrl,r=e.resConfig.requestScema;e.showSecMail=function(n,r){r=r||{},e.cssLoadOnce&&e.cssLoadOnce(),e.mix(r,e.resConfig.mailOpts||{});var i=r.title||e.resConfig.setMailTitle||"\u8bbe\u7f6e\u5bc6\u4fdd\u90ae\u7bb1",s=r.width||408,o=r.height||200,u=r.type||"pop",a=r.css||e.resConfig&&e.resConfig.css||"",f=r.afterRender||e.resConfig&&e.resConfig.mailOpts&&e.resConfig.mailOpts.afterRender;a&&e.loadCss(a),e.closePop&&e.closePop(),e.addPop&&e.addPop(o,s,"username"),t("#modQiUserPop").html(e.tpl.mailTpl),e.resConfig&&e.resConfig.postCharset&&t(".mod-qiuser-pop input[id=pageType]").val(e.resConfig.postCharset);try{t(".pop-dia-close").click(function(t){e.closePop&&e.closePop(),e.preventDefault(t)})}catch(l){}i&&t("#qucPanelTitle").html(i),f&&f(),u=="pop"&&e.resizeAndshow(o,s),e.emailUtils.initEvent(n,r)}}(QHPass),function(e){e.emailUtils=function(){function t(t,n){n=n||{},p=n.emailtype||"\u5bc6\u4fdd\u90ae\u7bb1",h=n.errorfun||"",c=n.successfun||"",t=t,f(".tipinput").focus(function(){f(this).parent().removeClass("input-bg").addClass("input-bg-focus")}).blur(function(){f(this).parent().removeClass("input-bg-focus").addClass("input-bg")}),n.crumb?f("#qucCrumb").val(n.crumb):e.getUserInfo(function(e){e.qid&&f("#qucCrumb").val(e.crumb)}),f("#qucsecSrc").val(e.resConfig.src),e.initPlaceHolders(),f("#click_resendMail").click(function(t){a(),e.preventDefault(t)})}function n(e){if(e.length>100)return!1;if(!/^([\w\-\.]+)@(([0-9a-zA-Z\-]+\.)+[a-zA-Z]{2,4})$/i.test(e))return!1;var t=e.split("@"),n=t[1];return!0}function r(){return e.trim(f("#qucPspSetSecMail")[0].qucsecemail.value)?n(f("#qucPspSetSecMail")[0].qucsecemail.value)?f("#qucPspSetSecMail")[0].qucsecpassword.value?e.byteLen(f("#qucPspSetSecMail")[0].qucsecpassword.value)<6?(i("qucsecpassword",m.sec_pwd_default),!1):(f("#qucsecPassword").val(hex_md5(f("#qucPspSetSecMail")[0].qucsecpassword.value)),f("#secMailTips").html(""),!0):(i("qucsecpassword",m.sec_pwd_empty),!1):(i("qucsecmail",p+m.sec_mail_format),!1):(i("qucsecmail",p+m.sec_mail_empty),!1)}function i(e,t){f("#secMailTips").html(t).addClass("reg-global-error"),e&&f("#"+e).focus()}function s(e){f("#secMailTips").html(e).removeClass("reg-global-error")}function o(){e._hostCurr&&e.loadJsonp(v+"://login."+e._hostCurr+"/o=sso&m=getRd&requestScema="+v+"&t="+Math.random(),function(t){t.rd&&e.loadJsonp(QHDomain.login_http+"/o=sso&m=setcookie&requestScema="+v+"&t="+Math.random(),function(e){e.errno!=0&&i("","\u8bf7\u5148\u767b\u5f55\u540e\u64cd\u4f5c")})})}function u(e){e.errno==0?(c&&c(),f("#loginSafeEmail_text").html(e.safeSecEmail),e.mailHostUrl?f("#qucgoMail").attr("href",e.mailHostUrl):f("#qucgoMail").hide(),f("#activeResult").show(),f("#secmailList").hide(),l&&(f("#resendmail_result").show(),setTimeout(function(){f("#resendmail_result").hide()},3e3))):(h&&h(e),l?f("#activeResult").html(decodeURIComponent(e.errmsg||"").replace("\u5bc6\u4fdd\u90ae\u7bb1",p)):(i("",decodeURIComponent(e.errmsg||"").replace("\u5bc6\u4fdd\u90ae\u7bb1",p)),l=!1))}function a(){l=!0,f("#qucPspSetSecMail").attr("action",QHDomain.i360+"/profile/resendSecurityEmail"),document.qucPspSetSecMail.submit()}var f=e.$,l=!1,c=null,h=null,p="\u5bc6\u4fdd\u90ae\u7bb1",d=null,v=e.resConfig.requestScema,m={sec_mail_empty:"\u4e0d\u80fd\u4e3a\u7a7a",sec_mail_format:"\u683c\u5f0f\u4e0d\u6b63\u786e",sec_pwd_empty:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a",sec_pwd_default:"\u5bc6\u7801\u957f\u5ea66\u523020\u4f4d,\u533a\u5206\u5927\u5c0f\u5199"};return{initEvent:t,submitCallback:u,submit:r}}()}(QHPass),QHPass.tpl.mailTpl='<div class="mod-set-secmail mod-qiuser-pop"><iframe style="display:none" name="setEmailiframe"></iframe><form  method="post" onsubmit="return QHPass.emailUtils.submit();" action='+QHDomain.i360+'/profile/dosetsecemail id="qucPspSetSecMail" name="qucPspSetSecMail" target="setEmailiframe" >'+'<dl id="secmailList" class="reg-wrap">'+'<dt class="msg-tit-tips">'+'<span class="global-tips"  id="secMailTips"></span>'+"</dt>"+"<dd>"+'<div class="quc-clearfix reg-item">'+'<label for="qucsecemail">\u5bc6\u4fdd\u90ae\u7bb1</label>'+'<span class="input-bg"><input type="text"  name="secemail"  maxlength="100" autocomplete="off" class="ipt tipinput" placeholder="\u8bf7\u8f93\u5165\u60a8\u7684\u5bc6\u4fdd\u90ae\u7bb1" id="qucsecemail" /></span>'+"</div>"+"</dd>"+"<dd >"+'<div class="quc-clearfix reg-item">'+'<label for="qucsecpassword">\u5bc6\u7801</label>'+'<span class="input-bg"><input type="password"  maxlength="20" autocomplete="off" class="ipt tipinput" placeholder="\u8bf7\u8f93\u5165\u60a8\u7684360\u5e10\u53f7\u5bc6\u7801" id="qucsecpassword" /></span>'+"</div>"+"</dd>"+'<dd class="secmail-btn" >'+'<input type="submit" id="btnQucSecMail" class="submit-setsecemail-btn" value="\u4fdd \u5b58"/>'+"</dd>"+'<dd style="display:none">'+'<input id="qucCrumb" name="crumb"  type="hidden" />'+'<input id="qucsecPassword" name="password"   type="hidden" />'+'<input id="qucsecSrc"  name="src"   type="hidden" />'+'<input name="requestScema" value="'+QHPass.resConfig.requestScema+'" type="hidden" />'+'<input id="qucsecDestUrl" name="destUrl" value='+location.href+'  type="hidden" />'+'<input id="pageType" name="charset" value="gbk"  type="hidden" />'+'<input id="jump_url" name="proxy" type="hidden"  value="'+QHPass.resConfig.requestScema+"://"+location.host+'/psp_jump.html" />'+'<input id="callback" name="callback" value="parent.QHPass.emailUtils.submitCallback"  type="hidden"  />'+"</dd>"+"</dl>"+'<div class="mod-loginEmail-result mod-qiuser-pop" id="activeResult">'+'<div class="global-loginEmail-text"></div>'+"<ul>"+'<li><span class="loginemail-tag">\u9a8c\u8bc1\u90ae\u4ef6\u5df2\u7ecf\u53d1\u9001\u5230\u60a8\u7684\u5bc6\u4fdd\u90ae\u7bb1:</span></li>'+'<li><span class="loginemail-text" id="loginSafeEmail_text"></span></li>'+"<li>\u8bf7\u60a8\u572848\u5c0f\u65f6\u5185\u767b\u5f55\u90ae\u7bb1\uff0c\u6309\u7167\u90ae\u7bb1\u5185\u7684\u6307\u793a\u5b8c\u6210\u9a8c\u8bc1</li>"+'<li class="btn-console"><a href="#" id="qucgoMail" target="_blank" class="btn-loginemail">\u53bb\u90ae\u7bb1\u6536\u4fe1</a></li>'+"</ul>"+'<div class="loginEmail-tips">'+"<h2>\u6ca1\u6536\u5230\u90ae\u4ef6\u600e\u4e48\u529e\uff1f</h2>"+"<p>\u8bf7\u68c0\u67e5\u60a8\u7684\u5783\u573e\u90ae\u4ef6\u548c\u5e7f\u544a\u90ae\u4ef6</p>"+'<p><a href="javascript:void(0);" id="click_resendMail" class="btn-resend-loginemail">\u70b9\u51fb\u8fd9\u91cc</a> \u91cd\u53d1\u4e00\u5c01\u90ae\u4ef6<span class="send-result" id="resendmail_result">\u53d1\u9001\u6210\u529f\uff01</span></p>'+'<p>\u5982\u60a8\u6536\u4e0d\u5230\u90ae\u4ef6\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d<a href="mailto:kefu@360.cn">kefu@360.cn</a></p>'+"</div>"+"</div>"+"</form>"+"</div> ",function(e){var t=e.$,n=e.resConfig.requestScema;e.CrossDomainRequest=function(e,t,r,i){var s=+(new Date),o="";typeof r=="string"?o=r:(o="_CrossDomainCallback"+s,window[o]=function(){var e=decodeURIComponent(arguments[0]);return u.parentNode.removeChild(u),r(e)});var u=document.createElement("div");u.innerHTML='<iframe style="display:none" id="_CrossDomainiframe'+s+'" name="'+"_CrossDomainiframe"+s+'" src=""></iframe>',document.body.appendChild(u);var a=document.createElement("FORM");a.style.display="none",a.method=i||"post",a.target="_CrossDomainiframe"+s,a.action=e;var f=[];f.push('<input type="hidden" name="callback" value="'+o+'" />'),f.push('<input type="hidden" name="requestScema" value="'+n+'" />'),f.push('<input type="hidden" name="proxy" value="'+n+"://"+location.host+'/psp_jump.html" />'),a.innerHTML=f.join("");for(var l in t){var c=document.createElement("input");c.setAttribute("type","hidden"),c.setAttribute("name",l),c.setAttribute("value",t[l]),a.appendChild(c)}document.body.appendChild(a),a.submit(),a.parentNode.removeChild(a)},e.showLoginEmail=function(r,i){i=i||{},e.cssLoadOnce&&e.cssLoadOnce(),e.mix(i,e.resConfig.mailOpts||{});var s='<div class="mod-isLoginEmail mod-qiuser-pop"><h2>\u4f7f\u7528\u771f\u5b9e\u7684\u90ae\u7bb1\u4f5c\u4e3a\u767b\u5f55\u90ae\u7bb1\uff0c\u53ef\u5728\u60a8\u5fd8\u8bb0\u5e10\u53f7\u5bc6\u7801\u65f6\u5feb\u901f\u8bbe\u7f6e\u65b0\u5bc6\u7801</h2><div class="global-loginEmail-text"></div><ul><li><span class="loginemail-tag">\u60a8\u7533\u8bf7\u9a8c\u8bc1\u7684\u767b\u5f55\u90ae\u7bb1\u4e3a\uff1a</span></li><li><span class="loginemail-text" id="loginEmail_text"></span></li><li>\u662f\u5426\u5411\u6b64\u90ae\u7bb1\u53d1\u9001\u9a8c\u8bc1\u90ae\u4ef6\uff1f</li><li>\u6211\u4eec\u4f1a\u5411\u60a8\u7684\u90ae\u7bb1\u53d1\u9001\u4e00\u5c01\u9a8c\u8bc1\u90ae\u4ef6\uff0c\u8bf7\u6309\u7167\u90ae\u4ef6\u5185\u6307\u793a\u5b8c\u6210\u9a8c\u8bc1</li><li class="btn-console"><a href="#" data-type="le" id="reSendLoginEmail" class="btn-loginemail">\u53d1\u9001\u9a8c\u8bc1\u90ae\u4ef6</a><span class="send-result">\u53d1\u9001\u6210\u529f\uff01</span></li></ul><div class="loginEmail-tips" id="modifyLoginEmail_warp"><p>\u8fd9\u4e2a\u90ae\u7bb1\u6211\u4e0d\u518d\u4f7f\u7528\u600e\u4e48\u529e\uff1f<a href="#" id="modifyLoginEmail" class="modify-loginEmail">\u4fee\u6539\u767b\u5f55\u90ae\u7bb1</a></p></div></div>',o='<div class="mod-setLoginEmail mod-qiuser-pop"><h2>\u4f7f\u7528\u771f\u5b9e\u7684\u90ae\u7bb1\u4f5c\u4e3a\u767b\u5f55\u90ae\u7bb1\uff0c\u53ef\u5728\u60a8\u5fd8\u8bb0\u5e10\u53f7\u5bc6\u7801\u65f6\u5feb\u901f\u8bbe\u7f6e\u65b0\u5bc6\u7801</h2><div class="global-loginEmail-text"></div><ul id="loginEmailWrap"><li ><label for="qucLoginEmail">\u767b\u5f55\u90ae\u7bb1</label><span class="input-bg"><input id="qucLoginEmail" type="text"  name="loginEmail"  maxlength="100" autocomplete="off" class="ipt tipinput" /></span><b id="qucLoginEmail_ico" class="icon-wrong error-ico"></b></li><li class="loginemail-ipt-tips"><span id="qucLoginEmail_text" >\u8bf7\u586b\u5199\u60a8\u7684\u767b\u5f55\u90ae\u7bb1</span></li><li ><label for="qucPassword">\u5bc6\u7801</label><span class="input-bg"><input id="qucPassword" type="password"  maxlength="20" autocomplete="off" class="ipt tipinput"  /></span><b id="qucPassword_ico" class="icon-wrong error-ico"></b></li><li class="loginemail-ipt-tips"><span id="qucPassword_text" >\u8bf7\u586b\u5199\u60a8\u7684360\u5e10\u53f7\u767b\u5f55\u5bc6\u7801</span></li><li class="btn-console" ><a  href="#"  id="sendLoginEmail" class="btn-loginemail send-loginemail">\u53d1\u9001\u9a8c\u8bc1\u90ae\u4ef6</a></li></ul><div class="loginEmail-tips"><h2>\u5982\u4f55\u5b8c\u6210\u9a8c\u8bc1\uff1f</h2><p>\u70b9\u51fb\u201c\u53d1\u9001\u90ae\u4ef6\u6309\u94ae\u201d\u540e\uff0c\u6211\u4eec\u4f1a\u5411\u60a8\u7684\u90ae\u4ef6\u53d1\u9001\u4e00\u5c01\u9a8c\u8bc1\u90ae\u4ef6</p><p>\u8bf7\u6309\u7167\u90ae\u4ef6\u4e2d\u7684\u63d0\u793a\u5b8c\u6210\u64cd\u4f5c</p></div></div>',u='<div class="mod-loginEmail-result mod-qiuser-pop"><div class="global-loginEmail-text"></div><ul><li><span class="loginemail-tag">\u9a8c\u8bc1\u90ae\u4ef6\u5df2\u7ecf\u53d1\u9001\u5230\u60a8\u7684\u767b\u5f55\u90ae\u7bb1:</span></li><li><span class="loginemail-text" id="loginSafeEmail_text"></span></li><li>\u8bf7\u60a8\u572848\u5c0f\u65f6\u5185\u767b\u5f55\u90ae\u7bb1\uff0c\u6309\u7167\u90ae\u7bb1\u5185\u7684\u6307\u793a\u5b8c\u6210\u9a8c\u8bc1</li><li class="btn-console"><a href="#" id="qucgoMail" target="_blank" class="btn-loginemail">\u53bb\u90ae\u7bb1\u6536\u4fe1</a></li></ul><div class="loginEmail-tips"><h2>\u6ca1\u6536\u5230\u90ae\u4ef6\u600e\u4e48\u529e\uff1f</h2><p>\u8bf7\u68c0\u67e5\u60a8\u7684\u5783\u573e\u90ae\u4ef6\u548c\u5e7f\u544a\u90ae\u4ef6</p><p><a href="#" id="reSendLoginEmail2" class="btn-resend-loginemail">\u70b9\u51fb\u8fd9\u91cc</a> \u91cd\u53d1\u4e00\u5c01\u90ae\u4ef6<span class="send-result">\u53d1\u9001\u6210\u529f\uff01</span></p><p>\u5982\u60a8\u6536\u4e0d\u5230\u90ae\u4ef6\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d<a href="mailto:kefu@360.cn">kefu@360.cn</a></p></div></div>',a=i.title||e.resConfig.setMailTitle||"\u9a8c\u8bc1\u767b\u5f55\u90ae\u7bb1",f=i.width||425,l=i.height||200,c=i.type||"pop",h=i.css||e.resConfig&&e.resConfig.css||"",p=i.afterRender||e.resConfig.mailOpts.afterRender;h&&e.loadCss(h),e.closePop&&e.closePop(),a&&t("#qucPanelTitle").html(a),e.loadJsonp(QHDomain.i360+"/active/checkLoginEmailStatus?crumb="+i.crumb+"&requestScema="+n,function(n){if(!n.needActive){if(n.errno==1050){e.getUserInfo(function(t){t.crumb?e.showLoginEmail(r,{crumb:t.crumb}):alert(n.errmsg)},i);return}if(n.errno==1051){e.showLogin(function(t){e.showLoginEmail(r,{crumb:t.crumb})},i);return}r&&r();return}var a=n.loginEmailUnactivated||n.loginEmail||"",h=n.safeLoginEmailUnactivated||n.safeLoginEmail||"";a?(e.addPop&&e.addPop(l,f,"loginEmail"),t("#modQiUserPop").html(s+o+u),n.isOverLimit&&t("#modifyLoginEmail_warp").hide(),t("#loginEmail_text").html(a.length>40?h:a),t(".mod-isLoginEmail").show(),n.loginEmailUnactivated&&t("#reSendLoginEmail")[0].setAttribute("data-type","la")):(e.addPop&&e.addPop(l,f,"loginEmail"),t("#modQiUserPop").html(o+u),t(".mod-setLoginEmail").show()),t(".global-loginEmail-text").hide(),t(".send-result").hide();try{t(".pop-dia-close").click(function(t){e.closePop&&e.closePop(),e.preventDefault(t)})}catch(d){}p&&p(),c=="pop"&&e.resizeAndshow(l,f),e.loginEmailUtils.initEvent(r,i)})}}(QHPass),function(e){e.loginEmailUtils=function(){function t(t,n){n=n||{},E=n.errorfun||"",w=n.successfun||"",x=n.crumb,t=t,g(".tipinput").focus(function(){g(this).parent().removeClass("input-bg").addClass("input-bg-focus")}).blur(function(){g(this).parent().removeClass("input-bg-focus").addClass("input-bg")}),g("#sendLoginEmail").click(function(t){e.loginEmailUtils.sendLoginEmail(),e.preventDefault(t)}),g("#reSendLoginEmail").click(function(t){g("#reSendLoginEmail")[0].getAttribute("data-type")=="le"?e.loginEmailUtils.reSendLoginEmail(QHDomain.i360+"/active/doSetLoginEmail"):e.loginEmailUtils.reSendLoginEmail(),e.preventDefault(t)}),g("#modifyLoginEmail").click(function(t){e.loginEmailUtils.modifyLoginEmail(),e.preventDefault(t)}),g("#reSendLoginEmail2").click(function(t){e.loginEmailUtils.reSendLoginEmail("","QHPass.loginEmailUtils.reSendCB2"),e.preventDefault(t)}),g("#qucLoginEmail").blur(function(){r()}),g("#qucPassword").blur(function(){i()})}function n(e){return e.length>100?!1:/^([\w\-\.]+)@(([0-9a-zA-Z\-]+\.)+[a-zA-Z]{2,4})$/i.test(e)?!0:!1}function r(){return g("#qucLoginEmail").val()?n(g("#qucLoginEmail").val())?(c("qucLoginEmail"),!0):(l("qucLoginEmail",O.sec_mail_format),!1):(l("qucLoginEmail",O.sec_mail_empty),!1)}function i(){return g("#qucPassword").val()?e.byteLen(g("#qucPassword").val())<6?(l("qucPassword",O.sec_pwd_default),!1):(c("qucPassword"),!0):(l("qucPassword",O.sec_pwd_empty),!1)}function s(){o(),k=!0,g(".global-loginEmail-text").html("").hide(),T=setTimeout(function(){C=!0,k=!1,g(".global-loginEmail-text").html("\u8bf7\u6c42\u8d85\u65f6\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5").show()},1e4)}function o(){clearTimeout(T),C=!1,k=!1,g(".global-loginEmail-text").html("").hide(),g(".send-result").hide()}function u(){if(k)return;r()&&i()&&(s(),e.CrossDomainRequest(QHDomain.i360+"/active/doSetLoginEmail",{loginEmail:g("#qucLoginEmail").val(),password:hex_md5(g("#qucPassword").val()),crumb:x,src:e.resConfig.src,destUrl:location.href,charset:e.resConfig.postCharset,proxy:A+"://"+location.host+"/psp_jump.html",requestScema:A,callback:"parent.QHPass.loginEmailUtils.sendCB"}))}function a(){o(),g(".mod-isLoginEmail").hide(),g(".mod-setLoginEmail").show()}function f(t,n){if(k)return;s(),e.CrossDomainRequest(t||QHDomain.i360+"/active/doSendActiveEmail",{crumb:x,src:e.resConfig.src,destUrl:location.href,charset:e.resConfig.postCharset,proxy:A+"://"+location.host+"/psp_jump.html",requestScema:A,callback:n||"QHPass.loginEmailUtils.reSendCB"})}function l(e,t){g("#"+e+"_ico").show(),g("#"+e+"_text").html(t).addClass("tip-text-wrong").show()}function c(e){g("#"+e+"_text").hide(),g("#"+e+"_ico").hide()}function h(){e._hostCurr&&e.loadJsonp(A+"://login."+e._hostCurr+"/o=sso&m=getRd&requestScema="+A+"&t="+Math.random(),function(t){t.rd&&e.loadJsonp(QHDomain.login_http+"/o=sso&m=setcookie&requestScema="+A+"&t="+Math.random(),function(e){e.errno!=0&&l("","\u8bf7\u5148\u767b\u5f55\u540e\u64cd\u4f5c")})})}function p(e){(e.loginEmailUnactivated||"").length>40?g("#loginSafeEmail_text").html(e.safeLoginEmailUnactivated):g("#loginSafeEmail_text").html(e.loginEmailUnactivated),e.mailHostUrl?g("#qucgoMail").attr("href",e.mailHostUrl):g("#qucgoMail").hide()}function d(t){if(C)return;o(),t.errno==0?(p(t),g(".mod-setLoginEmail").hide(),g(".mod-loginEmail-result").show()):t.errno=="220"?e.loginEmailUtils.showError("qucPassword",decodeURIComponent(t.errmsg)):(E&&E(),g(".global-loginEmail-text").html(decodeURIComponent(t.errmsg)).show())}function v(e){if(C)return;o(),e.errno==0?(p(e),g(".mod-isLoginEmail").hide(),g(".mod-loginEmail-result").show()):(k=!1,g(".send-result").html(decodeURIComponent(e.errmsg)).show(),clearTimeout(N),N=setTimeout(function(){g(".send-result").hide()},2e3))}function m(e){if(C)return;o(),e.errno==0?(g(".send-result").show(),clearTimeout(N),N=setTimeout(function(){g(".send-result").hide()},2e3)):(g(".send-result").html(decodeURIComponent(e.errmsg)).show(),clearTimeout(N),N=setTimeout(function(){g(".send-result").hide()},2e3))}var g=e.$,y=e._hostCurr,b=!1,w=null,E=null,S="\u767b\u5f55\u90ae\u7bb1",x="",T=null,N=null,C=!1,k=!1,L=null,A=e.resConfig.requestScema,O={sec_mail_empty:"\u767b\u5f55\u90ae\u7bb1\u4e0d\u80fd\u4e3a\u7a7a",sec_mail_format:"\u767b\u5f55\u90ae\u7bb1\u683c\u5f0f\u4e0d\u6b63\u786e",sec_pwd_empty:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a",sec_pwd_default:"\u5bc6\u7801\u957f\u5ea66\u523020\u4f4d,\u533a\u5206\u5927\u5c0f\u5199"};return{initEvent:t,showError:l,sendLoginEmail:u,reSendLoginEmail:f,modifyLoginEmail:a,sendCB:d,reSendCB:v,reSendCB2:m}}()}(QHPass);var hexcase=0,b64pad="",chrsz=8;(function(e,t){if(typeof e.QHPASS_MONITOR!="undefined")return;var n="v1.2.7 (2013.04.27)",r="360.cn",i=function(e,s){var o;(function(){o=!0;try{var e=location.protocol.toLowerCase();if(e=="http:"||e=="https:")o=!1}catch(t){}})();var u=t,a=navigator,f=e.screen,l=o?"":t.domain.toLowerCase(),c=a.userAgent.toLowerCase(),h={trim:function(e){return e.replace(/^[\s\xa0\u3000]+|[\u3000\xa0\s]+$/g,"")}},p={on:function(e,t,n){e.addEventListener?e&&e.addEventListener(t,n,!1):e&&e.attachEvent("on"+t,n)},parentNode:function(e,t,n){n=n||5,t=t.toUpperCase();while(e&&n-->0){if(e.tagName===t)return e;e=e.parentNode}return null}},d={fix:function(e){if(!("target"in e)){var t=e.srcElement||e.target;t&&t.nodeType==3&&(t=t.parentNode),e.target=t}return e}},v=function(){function e(e){return e!=null&&e.constructor!=null?Object.prototype.toString.call(e).slice(8,-1):""}return{isArray:function(t){return e(t)=="Array"},isObject:function(e){return e!==null&&typeof e=="object"},mix:function(e,t,n){for(var r in t)if(n||!(e[r]||r in e))e[r]=t[r];return e},encodeURIJson:function(e){var t=[];for(var n in e){if(e[n]==null)continue;t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]))}return t.join("&")}}}(),m={get:function(e){try{var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=u.cookie.match(n))?unescape(t[2]):""}catch(r){return""}},set:function(e,t,n){n=n||{};var r=n.expires;typeof r=="number"&&(r=new Date,r.setTime(r.getTime()+n.expires));try{u.cookie=e+"="+escape(t)+(r?";expires="+r.toGMTString():"")+(n.path?";path="+n.path:"")+(n.domain?"; domain="+n.domain:"")}catch(i){}}},g={getProject:function(){return""},getReferrer:function(){return u.referrer},getBrowser:function(){var t={"360se-ua":"360se",TT:"tencenttraveler",Maxthon:"maxthon",GreenBrowser:"greenbrowser",Sogou:"se 1.x / se 2.x",TheWorld:"theworld"};for(var n in t)if(c.indexOf(t[n])>-1)return n;var r=!1;try{+external.twGetVersion(external.twGetSecurityID(e)).replace(/\./g,"")>1013&&(r=!0)}catch(i){}if(r)return"360se-noua";var s=c.match(/(msie|chrome|safari|firefox|opera)/);return s=s?s[0]:"",s=="msie"&&(s=c.match(/msie[^;]+/)),s},getLocation:function(){var e="";try{e=location.href}catch(t){e=u.createElement("a"),e.href="",e=e.href}return e=e.replace(/[?#].*$/,""),e=/\.(s?htm|php)/.test(e)?e:e.replace(/\/$/,"")+"/",e},getGuid:function(){function t(e){var t=0,n=0,r=e.length-1;for(r;r>=0;r--){var i=parseInt(e.charCodeAt(r),10);t=(t<<6&268435455)+i+(i<<14),(n=t&266338304)!=0&&(t^=n>>21)}return t}function n(){var n=[a.appName,a.version,a.language||a.browserLanguage,a.platform,a.userAgent,f.width,"x",f.height,f.colorDepth,u.referrer].join(""),r=n.length,i=e.history.length;while(i)n+=i--^r++;return(Math.round(Math.random()*2147483647)^t(n))*2147483647}var i="__guid",s=m.get(i);if(!s){s=[t(o?"":u.domain),n(),+(new Date)+Math.random()+Math.random()].join(".");var c={expires:2592e7,path:"/"};if(r){var h="."+r;if(l.indexOf(h)>0&&l.lastIndexOf(h)==l.length-h.length||l==h)c.domain=h}m.set(i,s,c)}return function(){return s}}(),getCount:function(){var e="count",t=m.get(e);return t=(parseInt(t)||0)+1,m.set(e,t,{expires:864e5,path:"/"}),function(){return t}}(),getFlashVer:function(){var t=-1;if(a.plugins&&a.mimeTypes.length){var n=a.plugins["Shockwave Flash"];n&&n.description&&(t=n.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s)+r/,".")+".0")}else if(e.ActiveXObject&&!e.opera)try{var r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(r){var i=r.GetVariable("$version");t=i.replace(/WIN/g,"").replace(/,/g,".")}}catch(s){}return t=parseInt(t,10),t},getContainerId:function(e){var t=b.areaIds;if(t){var n,r=new RegExp("^("+t.join("|")+")$","ig");while(e){if(e.id&&r.test(e.id))return(e.getAttribute("data-desc")||e.id).substr(0,100);e=e.parentNode}}return""},getText:function(e){var t="";return e.tagName.toLowerCase()=="input"?t=e.getAttribute("text")||e.getAttribute("data-text")||e.value||e.title||"":t=e.getAttribute("text")||e.getAttribute("data-text")||e.innerText||e.textContent||e.title||"",h.trim(t).substr(0,100)},getHref:function(e){try{return e.getAttribute("data-href")||e.href||""}catch(t){return""}}},y={getBase:function(){return{p:g.getProject(),u:g.getLocation(),id:g.getGuid(),guid:g.getGuid()}},getTrack:function(){return{b:g.getBrowser(),c:g.getCount(),r:g.getReferrer(),fl:g.getFlashVer()}},getClick:function(e){e=d.fix(e||event);var t=e.target,n=t.tagName,r=g.getContainerId(t);if(!t.type||t.type!="submit"&&t.type!="button"){if(n=="AREA")return{f:g.getHref(t),c:"area:"+t.parentNode.name,cId:r};var i,s;return n=="IMG"&&(i=t),t=p.parentNode(t,"A"),t?(s=g.getText(t),{f:g.getHref(t),c:s?s:i?i.src.match(/[^\/]+$/):"",cId:r}):!1}var o=p.parentNode(t,"FORM"),u={};if(o){var a=o.id||"",f=t.id;u={f:o.action,c:"form:"+(o.name||a),cId:r};if((a=="search-form"||a=="searchForm")&&(f=="searchBtn"||f=="search-btn")){var l=w("kw")||w("search-kw")||w("kw1");u.w=l?l.value:""}}else u={f:g.getHref(t),c:g.getText(t),cId:r};return u},getKeydown:function(e){e=d.fix(e||event);if(e.keyCode!=13)return!1;var t=e.target,n=t.tagName,r=g.getContainerId(t);if(n=="INPUT"){var i=p.parentNode(t,"FORM");if(i){var s=i.id||"",o=t.id,u={f:i.action,c:"form:"+(i.name||s),cId:r};if(o=="kw"||o=="search-kw"||o=="kw1")u.w=t.value;return u}}return!1}},b={trackUrl:null,clickUrl:null,areaIds:null},w=function(e){return t.getElementById(e)};return{version:n,util:g,data:y,config:b,sendLog:function(){return e.__qihoo_monitor_imgs={},function(t){var n="log_"+ +(new Date),r=e.__qihoo_monitor_imgs[n]=new Image;r.onload=r.onerror=function(){e.__qihoo_monitor_imgs&&e.__qihoo_monitor_imgs[n]&&(e.__qihoo_monitor_imgs[n]=null,delete e.__qihoo_monitor_imgs[n])},r.src=t}}(),buildLog:function(){var e="";return function(t,n){if(t===!1)return;t=t||{};var r=y.getBase();t=v.mix(r,t,!0);var i=n+v.encodeURIJson(t);if(i==e)return;e=i,setTimeout(function(){e=""},500);var s=v.encodeURIJson(t);s+="&t="+ +(new Date),n=n.indexOf("?")>-1?n+"&"+s:n+"?"+s,this.sendLog(n)}}(),log:function(e,t){t=t||"click";var n=b[t+"Url"];n||alert("Error : the "+t+"url does not exist!"),this.buildLog(e,n)},setConf:function(e,t){var n={};return v.isObject(e)?n=e:n[e]=t,this.config=v.mix(this.config,n,!0),this},setUrl:function(e){return e&&(this.util.getLocation=function(){return e}),this},setProject:function(e){return e&&(this.util.getProject=function(){return e}),this},setId:function(){var e=[],t=0,n;while(n=arguments[t++])v.isArray(n)?e=e.concat(n):e.push(n);return this.setConf("areaIds",e),this},getTrack:function(){var e=this.data.getTrack();return this.log(e,"track"),this},getClickAndKeydown:function(){var e=this;return p.on(u,"mousedown",function(t){var n=e.data.getClick(t);e.log(n,"click")}),p.on(u,"keydown",function(t){var n=e.data.getKeydown(t);e.log(n,"click")}),i.getClickAndKeydown=function(){return e},this}}}(e);i.setConf({trackUrl:"http://s.360.cn/w360/s.htm",clickUrl:"http://s.360.cn/w360/c.htm",wpoUrl:"http://s.360.cn/w360/p.htm"}),e.QHPASS_MONITOR=i})(window,document),function(e){var t=e.$,n=QHDomain.captchaUrl,r=null,i=e.resConfig.requestScema;e.showBindMobile=function(n,i){function s(r,s,u){if(r=="pop")e.closePop&&e.closePop(),e.addPop(s,u,"bindMobile"),t("#modQiUserPop").html(e.tpl.mobileTpl);else{if(!l)return;t("#"+l).html(e.tpl.mobileTpl)}o&&t("#qucPanelTitle").html(o),e.resConfig&&e.resConfig.postCharset&&t(".mod-qiuser-pop input[id=pageType]").val(e.resConfig.postCharset),h&&h(),r=="pop"&&e.resizeAndshow(s,u),e.bindMobileUtils.initEvent(n,i)}i=i||{},e.cssLoadOnce&&e.cssLoadOnce(),e.mix(i,e.resConfig.bindMobileOpts||{});var o=i.title||e.resConfig.bindMobileTitle||"\u7ed1\u5b9a\u624b\u673a\u53f7\u7801",u=i.width||408,a=i.height||300,f=i.type||"pop",l=i.wrap,c=i.css||e.resConfig&&e.resConfig.css||"",h=i.afterRender||e.resConfig.bindMobileOpts&&e.resConfig.bindMobileOpts.afterRender;notRequest=i.notRequest||!1,c&&e.loadCss(c),notRequest?s(f,a,u):e.getUserInfo(function(e){r=e,s(f,a,u)},function(){e.login(function(){s(f,a,u)},i)})},e.bindMobileUtils=function(){var n={mobile:/^1(3|5|8|4)\d{9}$/,smscode:/^\d{6}$/,password:/^[\s\S]{6,20}$/},i="/smsApi/sendSmsCode",s="/security/dobindMobile",o=!1,u=null,a=null,f=null,l=null,c=null,h=null,p=["icon-wrong","icon-success"],d=["psp-tips-wrong","psp-tips-success"];return{initEvent:function(s,o){me=this,o=o||{},l=o.submitBindErrorFun,f=o.submitBindSuccessFun,a=s,c=o.sendSmsCodeSuccessFun,h=o.sendSmsCodeErrorFun,o.crumb?t("#qucCrumb").val(o.crumb):t("#qucCrumb").val(r.crumb),t("#quc_psp_bind_mobile input.ipt").focus(function(){t(this).parent().addClass("input-bg-focus")}).change(function(){var r=this,i=t("#quc_bm_password").val();t(r).parent().removeClass("input-bg-focus"),u!=null&&i==u?t("#quc_psp_bind_mobile")[0].password.value=u:t("#quc_psp_bind_mobile")[0].password.value=i,r.name&&r.name in n&&e.bindMobileUtils.validIpt(r)}),t("#quc_bm_mobile").on("keyup",function(){var t=this,n=e.trim(t.value);e.byteLen(n)>11&&(t.value=n.substring(0,11))}),t("#quc_psp_get_authcode").click(function(){var e=document.qucPspBindMobile,n=me.validIpt(e.mobile);n&&(e.account.value=e.mobile.value,e.callback.value="parent.QHPass.bindMobileUtils.sendSmsCodeSuccess",e.action=QHDomain.i360+i,t("#quc_psp_get_authcode").attr("disabled","disabled"),e.submit())}),t("#qucsecSrc").val(e.resConfig.src),t(".pop-dia-close").click(function(t){e.preventDefault(t),e.closePop&&e.closePop()}),e.initPlaceHolders&&e.initPlaceHolders()},showErr:function(e,n,r){var i=e.id,s=+n,o=+!n;e.__psp_icon||(e.__psp_icon=t("#icon-"+i)),e.__psp_icon.addClass(p[s]).removeClass(p[o]).show();if(!e.__psp_tips){var u=e.__psp_tips=t("#tips-"+i);e.__psp_tips_html=u.html()}r?e.__psp_tips.addClass(d[s]).removeClass(d[o]).html((n?e.__psp_tips_html:r)||""):e.__psp_tips.addClass(d[s]).removeClass(d[o]).html((n?e.__psp_tips_html:t(e).attr("psp-err-str"))||"")},validIpt:function(t){var r=n[t.name].test(e.trim(t.value));return this.showErr(t,r),r},validAll:function(e){var e=e||t("#quc_psp_bind_mobile")[0],r,i=!0;for(r in n)i=i&&this.validIpt(e[r]),u=e.password.value;return i},showGlobalErr:function(e,n){var r=+e,i=+!e;t("#quc_bind_mobile_guide").addClass(p[i]).removeClass(p[i])[n?"show":"hide"](),t("#quc_bind_mobile_global_tips"
).html(n)},bindMobileSuccess:function(e){e.errno==0?(f&&f(e.errno),this.cancelBindMobile("success")):(t("#quc_psp_bind_mobile")[0].password.value=u,e.errno==1351?this.showErr(t("#quc_bm_smscode")[0],!1,decodeURIComponent(e.errmsg)):e.errno==220?this.showErr(t("#quc_bm_password")[0],!1,decodeURIComponent(e.errmsg)):this.showGlobalErr(!1,e.errmsg?decodeURIComponent(e.errmsg):"\u7ed1\u5b9a\u624b\u673a\u53f7\u7801\u5931\u8d25\uff01"),l&&l(e.errno))},sendSmsCodeSuccess:function(e){var n=t("#quc_psp_get_authcode");if(e.errno!="0"){n.removeAttr("disabled"),e.errno==1106?this.showErr(t("#quc_bm_mobile")[0],!1,decodeURIComponent(e.errmsg)):e.errno==1401?this.showErr(t("#quc_bm_mobile")[0],!1,decodeURIComponent(e.errmsg)):this.showGlobalErr(!1,decodeURIComponent(e.errmsg)||"\u83b7\u53d6\u6821\u9a8c\u7801\u5931\u8d25\uff01"),h&&h(e.errno);return}c&&c(e.errno),n.attr("disabled","disabled").val("120\u79d2\u540e\u53ef\u91cd\u53d1");var r=120,i=setInterval(function(){r<1?(clearInterval(i),n.removeAttr("disabled").val("\u53d1\u9001\u6821\u9a8c\u7801")):n.val(r-- +"\u79d2\u540e\u53ef\u91cd\u53d1")},1e3)},cancelBindMobile:function(e){var t=typeof a;t=="string"?location.href=a:t=="boolean"?window.location.reload(a):t=="function"&&a(e)},submit:function(e){var t=this.validAll(e);return t&&(e.callback.value="parent.QHPass.bindMobileUtils.bindMobileSuccess",u=e.password.value,e.password.value=hex_md5(u),e.action=QHDomain.i360+s),t}}}()}(QHPass),QHPass.tpl.mobileTpl='<div class="mod-bind-mobile mod-qiuser-pop"><iframe style="display:none" name="ifr_psp_bind_mobile"></iframe><form method="post" onsubmit="return QHPass.bindMobileUtils.submit(this);" action="'+QHDomain.i360+'/security/dobindMobile" id="quc_psp_bind_mobile" name="qucPspBindMobile" target="ifr_psp_bind_mobile">'+'<dl class="reg-wrap">'+'<dt><span id="quc_bind_mobile_guide"></span><div id="quc_bind_mobile_global_tips" class="reg-global-error reg-global-success reg-global-loading"></div></dt>'+'<dd class="phone">'+'<div class="quc-clearfix reg-item">'+'<label for="quc_bm_mobile">\u624b\u673a\u53f7</label>'+'<span class="input-phone-bg"><input type="text" id="quc_bm_mobile" name="mobile" psp-err-str="\u624b\u673a\u53f7\u683c\u5f0f\u9519\u8bef" maxlength="11" autocomplete="off" class="ipt tipinput" tabindex="1"></span>'+'<input type="button" id="quc_psp_get_authcode" onfocus="this.blur()" class="auth-code btn-auth-code" value="\u514d\u8d39\u83b7\u53d6\u6821\u9a8c\u7801">'+'<b id="icon-quc_bm_mobile"></b>'+"</div>"+'<span id="tips-quc_bm_mobile" class="text-tips">\u8bf7\u8f93\u5165\u60a8\u7684\u624b\u673a\u53f7</span>'+'<div class="btn-authcode"><a class="ques-link" target="_blank" href="http://i.360.cn/help/smscode">\u6821\u9a8c\u7801\u5e38\u89c1\u95ee\u9898</a></div>'+"</dd>"+"<dd>"+'<div class="quc-clearfix reg-item">'+'<label for="quc_bm_smscode">\u6821\u9a8c\u7801</label>'+'<span class="input-bg"><input type="text" id="quc_bm_smscode" name="smscode" psp-err-str="\u6821\u9a8c\u7801\u683c\u5f0f\u9519\u8bef" maxlength="6" autocomplete="off" class="ipt tipinput " tabindex="2"></span>'+'<b id="icon-quc_bm_smscode"></b>'+"</div>"+'<span id="tips-quc_bm_smscode" class="text-tips">\u8bf7\u8f93\u5165\u77ed\u4fe1\u4e2d6\u4f4d\u6570\u5b57\u6821\u9a8c\u7801</span>'+"</dd>"+"<dd>"+'<div class="quc-clearfix reg-item">'+'<label for="quc_bm_password">\u767b\u5f55\u5bc6\u7801</label>'+'<span class="input-bg"><input type="password" id="quc_bm_password" name="password" psp-err-str="\u5bc6\u7801\u4e3a6-20\u4e2a\u5b57\u7b26" autocomplete="off" class="ipt tipinput" tabindex="3"></span>'+'<b id="icon-quc_bm_password"></b>'+"</div>"+'<span id="tips-quc_bm_password" class="text-tips">6-20\u4e2a\u5b57\u7b26\uff0c\uff08\u533a\u5206\u5927\u5c0f\u5199\uff09</span>'+"</dd>"+'<dd class="submit">'+'<input type="submit" onfocus="this.blur()" value="\u63d0 \u4ea4" class="btn-register quc-psp-gstat">'+"</dd>"+"</dl>"+'<input name="account" value="" type="hidden" />'+'<input name="acctype" value="2" type="hidden" />'+'<input name="condition" value="2" type="hidden" />'+'<input name="requestScema" value="'+QHPass.resConfig.requestScema+'" type="hidden" />'+'<input id="qucsecSrc" name="src" value="" type="hidden" />'+'<input id="qucCrumb" name="crumb" type="hidden" />'+'<input id="pageType" name="charset" value="gbk" type="hidden" />'+'<input id="jump_url" name="proxy" type="hidden" value="'+QHPass.resConfig.requestScema+"://"+location.host+'/psp_jump.html" />'+'<input id="callback" name="callback" value="parent.QHPass.bindMobileUtils.bindMobileSuccess" type="hidden" />'+"</form>"+"</div>",function(e){var t=e.$,n=QHDomain.captchaUrl,r=null,i=e.resConfig.requestScema;e.showDelBindMobile=function(n,i){function s(n,r,s){if(n=="pop")e.closePop&&e.closePop(),e.addPop&&e.addPop(r,s,"username"),t("#modQiUserPop").html(e.tpl.delBindUnameTpl),t(".mod-qiuser-pop").css({height:r+"px"});else{if(!c)return;t("#"+c).html(e.tpl.delBindUnameTpl)}e.resConfig&&e.resConfig.postCharset&&t(".mod-qiuser-pop input[id=pageType]").val(e.resConfig.postCharset),u&&t("#qucPanelTitle").html(u),p&&p(),n=="pop"&&e.resizeAndshow(r,s),e.userNameUtils.initEvent(function(){o(n,r,s)},i)}function o(r,s,o){if(r=="pop")e.closePop(),e.addPop(s,o,"delBindMobile"),t("#modQiUserPop").html(e.tpl.delMobileTpl);else{if(!c)return;t("#"+c).html(e.tpl.delMobileTpl)}u&&t("#qucPanelTitle").html(u),e.resConfig&&e.resConfig.postCharset&&t(".mod-qiuser-pop input[id=pageType]").val(e.resConfig.postCharset),p&&p(),r=="pop"&&e.resizeAndshow(s,o),e.delBindMobileUtils.initEvent(n,i)}i=i||{},e.cssLoadOnce&&e.cssLoadOnce(),e.mix(i,e.resConfig.delBindMobileOpts||{});var u=i.title||e.resConfig.bindMobileTitle||"\u89e3\u9664\u7ed1\u5b9a\u624b\u673a",a=i.width||408,f=i.height||250,l=i.type||"pop",c=i.wrap,h=i.css||e.resConfig&&e.resConfig.css||"",p=i.afterRender||e.resConfig.delBindMobileOpts&&e.resConfig.delBindMobileOpts.afterRender;notRequest=i.notRequest||!1,h&&e.loadCss(h),notRequest?o(l,f,a):e.getUserInfo(function(e){r=e,e.type!="bind"&&(!e.userName||e.userName.indexOf("360U")>-1)?s(l,f,a):o(l,f,a)},function(){e.login(function(e){r=e,o(l,f,a)},i)})},e.delBindMobileUtils=function(){var n={smscode:/^\d{6}$/,password:/^[\s\S]{6,20}$/},i="/smsApi/sendSmsCode",s="/security/dodelBindMobile",o=!1,u=null,a=null,f=null,l=null,c=null,h=null,p=["icon-wrong","icon-success"],d=["psp-tips-wrong","psp-tips-success"];return{initEvent:function(s,o){o=o||{},l=o.submitdelBindErrorFun,f=o.submitdelBindSuccessFun,a=s,c=o.sendSmsCodeSuccessFun,h=o.sendSmsCodeErrorFun,o.crumb&&o.qid?(t("#qucCrumb").val(o.crumb),t("#qucQid").val(o.qid),e.delBindMobileUtils.submitSec()):(t("#qucCrumb").val(r.crumb),t("#qucQid").val(r.qid),e.delBindMobileUtils.submitSec()),t("#quc_psp_delbind_mobile input.ipt").focus(function(){t(this).parent().addClass("input-bg-focus")}).change(function(){var r=this,i=t("#quc_bm_password").val();t(r).parent().removeClass("input-bg-focus"),u!=null&&i==u?t("#quc_psp_delbind_mobile")[0].password.value=u:t("#quc_psp_delbind_mobile")[0].password.value=i,r.name&&r.name in n&&e.delBindMobileUtils.validIpt(r)}),t("#quc_psp_get_authcode").click(function(){var e=document.qucPspDelBindMobile;e.account.value=e.qid.value,e.acctype.value=3,e.condition.value=1,e.callback.value="parent.QHPass.delBindMobileUtils.sendSmsCodeSuccess",e.action=QHDomain.i360+i,t("#quc_psp_get_authcode").attr("disabled","disabled"),e.submit()}),t("#qucsecSrc").val(e.resConfig.src),t(".pop-dia-close").click(function(t){e.preventDefault(t),e.closePop&&e.closePop()}),e.initPlaceHolders&&e.initPlaceHolders()},showErr:function(e,n,r){var i=e.id,s=+n,o=+!n;e.__psp_icon||(e.__psp_icon=t("#icon-"+i)),e.__psp_icon.addClass(p[s]).removeClass(p[o]).show();if(!e.__psp_tips){var u=e.__psp_tips=t("#tips-"+i);e.__psp_tips_html=u.html()}r?e.__psp_tips.addClass(d[s]).removeClass(d[o]).html((n?e.__psp_tips_html:r)||""):e.__psp_tips.addClass(d[s]).removeClass(d[o]).html((n?e.__psp_tips_html:t(e).attr("psp-err-str"))||"")},validIpt:function(t){var r=n[t.name].test(e.trim(t.value));return this.showErr(t,r),r},validAll:function(e){var e=e||t("#quc_psp_delbind_mobile")[0],r,i=!0;for(r in n)i=i&&this.validIpt(e[r]),u=e.password.value;return i},showGlobalErr:function(e,n){var r=+e,i=+!e;t("#quc_delbind_mobile_guide").addClass(p[i]).removeClass(p[i])[n?"show":"hide"](),t("#quc_delbind_mobile_global_tips").html(n)},getUserSecInfoSuccess:function(e){e.errno==0?e.safeSecMobile?t(".mod-delbind-mobile span.phone-num").html(e.safeSecMobile):(this.showGlobalErr(!0,"\u62b1\u6b49\uff0c\u60a8\u8fd8\u6ca1\u6709\u7ed1\u5b9a\u8fc7\u624b\u673a\u53f7"),t(".mod-delbind-mobile span.phone-num").html("\u65e0")):this.showGlobalErr(!0,decodeURIComponent(e.errmsg))},delBindMobileSuccess:function(e){e.errno==0?(this.showGlobalErr(!0,"\u624b\u673a\u53f7\u89e3\u7ed1\u6210\u529f\u3002"),f&&f(e.errno),this.cancelDelBindMobile("success")):(t("#quc_psp_delbind_mobile")[0].password.value=u,e.errno==1351?this.showErr(t("#quc_bm_smscode")[0],!1,decodeURIComponent(e.errmsg)):e.errno==220?this.showErr(t("#quc_bm_password")[0],!1,decodeURIComponent(e.errmsg)):this.showGlobalErr(!1,e.errmsg?decodeURIComponent(e.errmsg):"\u7ed1\u5b9a\u624b\u673a\u53f7\u7801\u5931\u8d25\uff01"),l&&l(e.errno))},sendSmsCodeSuccess:function(e){var n=t("#quc_psp_get_authcode");if(e.errno!="0"){n.removeAttr("disabled"),this.showGlobalErr(!1,decodeURIComponent(e.errmsg)||"\u83b7\u53d6\u6821\u9a8c\u7801\u5931\u8d25\uff01"),h&&h(e.errno);return}c&&c(e.errno),n.attr("disabled","disabled").val("120\u79d2\u540e\u53ef\u91cd\u53d1");var r=120,i=setInterval(function(){r<1?(clearInterval(i),n.removeAttr("disabled").val("\u53d1\u9001\u6821\u9a8c\u7801")):n.val(r-- +"\u79d2\u540e\u53ef\u91cd\u53d1")},1e3)},cancelDelBindMobile:function(e){var t=typeof a;t=="string"?location.href=a:t=="boolean"?window.location.reload(a):t=="function"&&a(e)},submitSec:function(){document.qucPspDelBindMobile.action=QHDomain.i360+"/security/getUserSecInfo",document.qucPspDelBindMobile.callback.value="parent.QHPass.delBindMobileUtils.getUserSecInfoSuccess",document.qucPspDelBindMobile.submit()},submit:function(e){var t=this.validAll(e);return t&&(e.callback.value="parent.QHPass.delBindMobileUtils.delBindMobileSuccess",u=e.password.value,e.password.value=hex_md5(u),e.action=QHDomain.i360+s),t}}}()}(QHPass),QHPass.tpl.delMobileTpl='<div class="mod-delbind-mobile mod-qiuser-pop"><iframe style="display:none" name="ifr_psp_delbind_mobile"></iframe><form method="post" onsubmit="return QHPass.delBindMobileUtils.submit(this);" action="'+QHDomain.i360+'/security/dodelBindMobile" id="quc_psp_delbind_mobile" name="qucPspDelBindMobile" target="ifr_psp_delbind_mobile">'+'<dl class="reg-wrap">'+'<dt><span id="quc_delbind_mobile_guide"></span><div id="quc_delbind_mobile_global_tips" class="reg-global-error reg-global-success reg-global-loading"></div></dt>'+'<dd class="phone">'+'<div class="quc-clearfix reg-item">'+'<label for="quc_bm_mobile">\u624b\u673a\u53f7</label>'+'<span class="phone-num"></span>'+"</div>"+"</dd>"+'<div class="btn-authcode">'+'<input type="button" id="quc_psp_get_authcode" onfocus="this.blur()" class="auth-code btn-auth-code" value="\u514d\u8d39\u83b7\u53d6\u6821\u9a8c\u7801">'+'<a class="ques-link" target="_blank" href="http://i.360.cn/help/smscode">\u6821\u9a8c\u7801\u5e38\u89c1\u95ee\u9898</a>'+"</div>"+"<dd>"+'<div class="quc-clearfix reg-item">'+'<label for="quc_bm_smscode">\u6821\u9a8c\u7801</label>'+'<span class="input-bg"><input type="text" id="quc_bm_smscode" name="smscode" psp-err-str="\u6821\u9a8c\u7801\u683c\u5f0f\u9519\u8bef" maxlength="6" autocomplete="off" class="ipt tipinput " tabindex="2"></span>'+'<b id="icon-quc_bm_smscode"></b>'+"</div>"+'<span id="tips-quc_bm_smscode" class="text-tips">\u8bf7\u8f93\u5165\u77ed\u4fe1\u4e2d6\u4f4d\u6570\u5b57\u6821\u9a8c\u7801</span>'+"</dd>"+"<dd>"+'<div class="quc-clearfix reg-item">'+'<label for="quc_bm_password">\u767b\u5f55\u5bc6\u7801</label>'+'<span class="input-bg"><input type="password" id="quc_bm_password" name="password" psp-err-str="\u5bc6\u7801\u4e3a6-20\u4e2a\u5b57\u7b26" autocomplete="off" class="ipt tipinput" tabindex="3"></span>'+'<b id="icon-quc_bm_password"></b>'+"</div>"+'<span id="tips-quc_bm_password" class="text-tips">6-20\u4e2a\u5b57\u7b26\uff0c\uff08\u533a\u5206\u5927\u5c0f\u5199\uff09</span>'+"</dd>"+'<dd class="submit">'+'<input type="submit" onfocus="this.blur()" value="\u89e3 \u7ed1" class="btn-register quc-psp-gstat">'+"</dd>"+"</dl>"+'<input name="account" value="" type="hidden" />'+'<input name="acctype" value="2" type="hidden" />'+'<input name="condition" value="2" type="hidden" />'+'<input id="qucsecSrc" name="src" value="" type="hidden" />'+'<input id="qucQid" name="qid" type="hidden" />'+'<input id="qucCrumb" name="crumb" type="hidden" />'+'<input name="requestScema" value="'+QHPass.resConfig.requestScema+'" type="hidden" />'+'<input id="pageType" name="charset" value="gbk" type="hidden" />'+'<input id="jump_url" name="proxy" type="hidden" value="'+QHPass.resConfig.requestScema+"://"+location.host+'/psp_jump.html" />'+'<input id="callback" name="callback" value="parent.QHPass.delBindMobileUtils.delBindMobileSuccess" type="hidden" />'+"</form>"+"</div>",QHPass.tpl.delBindUnameTpl='<div class="mod-set-username mod-qiuser-pop"><iframe style="display:none" name="setUsernameiframe"></iframe><form  method="post" onsubmit="QHPass.userNameUtils.submit();return false;" action="'+QHDomain.i360+'/profile/dochusername" id="qucPspSetUserName" name="qucPspSetUserName" target="setUsernameiframe" >'+"<ul>"+'<li class="msg-tit-tips">'+'<span class="uname-tips global-tips"  id="userNameResultTips">\u4e3a\u4e86\u4fdd\u8bc1\u89e3\u9664\u7ed1\u5b9a\u624b\u673a\u540e\u4ecd\u53ef\u767b\u5f55\u60a8\u7684360\u5e10\u53f7\uff0c\u89e3\u7ed1\u524d\uff0c\u8bf7\u60a8\u4e3a\u5e10\u53f7\u8bbe\u7f6e\u767b\u5f55\u7528\u6237\u540d</span>'+"</li>"+'<li class="uname-input">'+'<span class="input-bg"><input type="text" name="userName" autocomplete="off" maxlength="14" class="ipt" placeholder="\u8bf7\u8f93\u5165\u60a8\u7684\u7528\u6237\u540d" id="pspUserName" /></span><input type="submit" value="" id="btn-submitName" class="submit-setuname-btn"/>'+"</li>"+'<li id="qucUnameTips" class="uname-tips">\u7528\u6237\u540d\u662f360\u8eab\u4efd\u5c55\u793a\uff0c\u4e00\u7ecf\u786e\u8ba4\uff0c\u4e0d\u53ef\u4fee\u6539</li>'+'<li class="suggest-username">'+'<div  class="uname-tips" id="userNameSuggest"></div></li>'+"<li>"+'<input id="qucCrumb" name="crumb"  type="hidden" />'+'<input id="pageType" name="charset" value="gbk"  type="hidden" />'+'<input name="requestScema" value="'+QHPass.resConfig.requestScema+'" type="hidden">'+'<input id="jump_url" name="proxy" type="hidden" value="'+QHPass.resConfig.requestScema+"://"+location.host+'/psp_jump.html" />'+'<input id="callback" name="callback" value="parent.QHPass.userNameUtils.submitCallback"  type="hidden"  />'+"</li>"+"</ul>"+"</form>"+"</div> ",function(){function e(e){e=e||{},this.path=e.path||"/",this.domain=e.domain||"",this.expires=e.expires||31536e6,this.secure=e.secure||""}e.prototype={set:function(e,t){var n=new Date;typeof this.expires=="number"&&n.setTime(n.getTime()+this.expires),document.cookie=e+"="+escape(t)+";expires="+n.toGMTString()+";path="+this.path+(this.domain==""?"":"; domain="+this.domain)+(this.secure?"; secure":"")},get:function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):""},remove:function(e){var t=this.expires;this.expires=-31536e6,this.set(e,""),this.expires=t}},e.set=function(t,n,r){(new e(r)).set(t,n)},e.get=function(t,n){return(new e(n)).get(t)},e.remove=function(t,n){(new e(n)).remove(t)},QW.provide("Cookie",e)}();var ypLogin=function(){function e(){if(o){var t=W("#loginSubmit").val();t.length<3&&(t="\u767b\u5f55\u4e2d"),t+=".",t.length>6&&(t="\u767b\u5f55\u4e2d"),W("#loginSubmit").val(t),setTimeout(e,1e3)}else W("#loginSubmit").val("\u767b\u5f55")}function t(){var e=[l,a,f,c],n="";for(var r=0;r<4;r++){if(r==3&&!u.isVisible())continue;if(e[r].css("display")!="none"){n=e[r].html().trim();if(n)break}}n?h.html(n).show():h.hide(),setTimeout(t,100)}function n(e){setTimeout(function(){var t=e||decodeURIComponent(Cookie.get("YUNPAN_USER")).trim(),n=W("#loginAccount"),r=W("#lpassword");t=="undefined"&&(t=""),location.href.queryUrl("type")=="change-count"&&(t=""),n.val()==""&&t!=""?(n.val(t),n.parentNode().query(".emptyhint").css("display","none"),setTimeout(function(){r.parentNode().query(".emptyhint").css("display","none"),r.focus()},1)):setTimeout(function(){n.val(""),n.focus()},300)},1)}function r(){if(d)return;u.isVisible()&&(W(".login-panel .login-wrap").addClass("show-phrase"),W("#phraseLoginwarp").addClass("clearfix"),d=!0),setTimeout(r,100)}function i(i){W(".login-panel").replaceClass("reg-tab","login-tab"),W("#regist").hide(),W("#login").show();if(p){i&&Object.isString(i)&&n(i);return}QHPass.loginCallback=function(e){monitor.clickLog("20140108-login-suc"),s.push(e.ldtime);var t=encodeURIComponent(W("#loginAccount").val());Cookie.set("YUNPAN_USER",t,{domain:".yunpan.360.cn",expires:31536e6});var n=location.href.replace(/^.*?(\/invite\/\w*(\/\?sid=\d*)?)?$/,"$1"),r=s.join("-"),i=location.href.queryUrl("sid");i=i?"&sid="+i:"",n?location.href="/user/login?st="+r+"&u="+encodeURIComponent(n)+i:location.href="/user/login?st="+r+i},QHPass.resConfig.src="pcw_cloud",QHPass.resConfig.loginAfterSetName=!1,QHPass.resConfig.postCharset="utf-8",QHPass.showLogin(QHPass.loginCallback,{type:"normal",captFlag:!0,wrap:"login",afterRender:function(){g("iskeepalive").checked=!1,W("#loginSubmit").val("\u767b\u5f55"),W("#modLoginWrap").insert("afterbegin",'<div class="login-error login-error-msg"></div>'),a=W("#tips-loginAccount"),f=W("#tips-lpassword"),l=W("#error_tips"),h=W("#modLoginWrap .login-error-msg"),c=W("#tips-phraseLogin"),u=W("#phraseLoginwarp"),n(),t(),p=!0,W("#lwm").attr("title","\u70b9\u51fb\u66f4\u6362\u56fe\u7247"),r()},cookie_domains:["","nc"],errorfun:function(e){s.push(e),o=!1,monitor.clickLog("20140108-login-fail")},onLoading:function(){o=!0,e(),monitor.clickLog("20140108-login-start")},httpTimeoutFunc:function(){monitor.clickLog("20140108-login-http-overtime")},httpsTimeoutFunc:function(){monitor.clickLog("20140108-login-https-overtime")}}),Dom.ready(function(){monitor.clickLog("20140108-login-init")})}var s=[],o=!1,u,a,f,l,c,h,p=!1,d=!1;return{initLogin:i}}();